!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global){"use strict";function typedArraySupport(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length),that.__proto__=Buffer.prototype):(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?fromArrayBuffer(that,value,encodingOrOffset,length):"string"==typeof value?fromString(that,value,encodingOrOffset):fromObject(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number')}function alloc(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromString(that,string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding);that=createBuffer(that,length);var actual=that.write(string,encoding);return actual!==length&&(that=that.slice(0,actual)),that}function fromArrayLike(that,array){var length=0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");return array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.TYPED_ARRAY_SUPPORT?(that=array,that.__proto__=Buffer.prototype):that=fromArrayLike(that,array),that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return that=createBuffer(that,len),0===that.length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||isnan(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function SlowBuffer(length){return+length!=length&&(length=0),Buffer.alloc(+length)}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if(end>>>=0,start>>>=0,end<=start)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val=255&val,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(encoding=String(encoding).toLowerCase(),"ucs2"===encoding||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else foundIndex!==-1&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128===(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,tempCodePoint>127&&(codePoint=tempCodePoint));break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128===(192&secondByte)&&128===(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint));break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128===(192&secondByte)&&128===(192&thirdByte)&&128===(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,tempCodePoint>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint))}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!==0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if(codePoint=string.charCodeAt(i),codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isnan(val){return val!==val}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset=0|offset,isFinite(length)?(length=0|length,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,start<0?(start+=len,start<0&&(start=0)):start>len&&(start=len),end<0?(end+=len,end<0&&(end=0)):end>len&&(end=len),end<start&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=this.subarray(start,end),newBuf.__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,(void 0));for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?(255-this[offset]+1)*-1:this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,byteLength=0|byteLength,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,byteLength=0|byteLength,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val=255&val);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":2,ieee754:3,isarray:4}],2:[function(require,module,exports){"use strict";function init(){for(var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(b64){var i,j,l,tmp,placeHolders,arr,len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");placeHolders="="===b64[len-2]?2:"="===b64[len-1]?1:0,arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,
arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(tripletToBase64(tmp));return output.join("")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],maxChunkLength=16383,i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength)parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength));return 1===extraBytes?(tmp=uint8[len-1],output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+="="),parts.push(output),parts.join("")}exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array;init()},{}],3:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],4:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],5:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],6:[function(require,module,exports){function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout=setTimeout}catch(e){cachedSetTimeout=function(){throw new Error("setTimeout is not defined")}}try{cachedClearTimeout=clearTimeout}catch(e){cachedClearTimeout=function(){throw new Error("clearTimeout is not defined")}}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],7:[function(require,module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],8:[function(require,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(recurseTimes<0)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":7,_process:6,inherits:5}],9:[function(require,module,exports){module.exports=require("./lib/chai")},{"./lib/chai":10}],10:[function(require,module,exports){var used=[],exports=module.exports={};exports.version="3.5.0",exports.AssertionError=require("assertion-error");var util=require("./chai/utils");exports.use=function(fn){return~used.indexOf(fn)||(fn(this,util),used.push(fn)),this},exports.util=util;var config=require("./chai/config");exports.config=config;var assertion=require("./chai/assertion");exports.use(assertion);var core=require("./chai/core/assertions");exports.use(core);var expect=require("./chai/interface/expect");exports.use(expect);var should=require("./chai/interface/should");exports.use(should);var assert=require("./chai/interface/assert");exports.use(assert)},{"./chai/assertion":11,"./chai/config":12,"./chai/core/assertions":13,"./chai/interface/assert":14,"./chai/interface/expect":15,"./chai/interface/should":16,"./chai/utils":30,"assertion-error":38}],11:[function(require,module,exports){var config=require("./config");module.exports=function(_chai,util){function Assertion(obj,msg,stack){flag(this,"ssfi",stack||arguments.callee),flag(this,"object",obj),flag(this,"message",msg)}var AssertionError=_chai.AssertionError,flag=util.flag;_chai.Assertion=Assertion,Object.defineProperty(Assertion,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),config.includeStack},set:function(value){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),config.includeStack=value}}),Object.defineProperty(Assertion,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),config.showDiff},set:function(value){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),config.showDiff=value}}),Assertion.addProperty=function(name,fn){util.addProperty(this.prototype,name,fn)},Assertion.addMethod=function(name,fn){util.addMethod(this.prototype,name,fn)},Assertion.addChainableMethod=function(name,fn,chainingBehavior){util.addChainableMethod(this.prototype,name,fn,chainingBehavior)},Assertion.overwriteProperty=function(name,fn){util.overwriteProperty(this.prototype,name,fn)},Assertion.overwriteMethod=function(name,fn){util.overwriteMethod(this.prototype,name,fn)},Assertion.overwriteChainableMethod=function(name,fn,chainingBehavior){util.overwriteChainableMethod(this.prototype,name,fn,chainingBehavior)},Assertion.prototype.assert=function(expr,msg,negateMsg,expected,_actual,showDiff){var ok=util.test(this,arguments);if(!0!==showDiff&&(showDiff=!1),!0!==config.showDiff&&(showDiff=!1),!ok){var msg=util.getMessage(this,arguments),actual=util.getActual(this,arguments);throw new AssertionError(msg,{actual:actual,expected:expected,showDiff:showDiff},config.includeStack?this.assert:flag(this,"ssfi"))}},Object.defineProperty(Assertion.prototype,"_obj",{get:function(){return flag(this,"object")},set:function(val){flag(this,"object",val)}})}},{"./config":12}],12:[function(require,module,exports){module.exports={includeStack:!1,showDiff:!0,truncateThreshold:40}},{}],13:[function(require,module,exports){module.exports=function(chai,_){function an(type,msg){msg&&flag(this,"message",msg),type=type.toLowerCase();var obj=flag(this,"object"),article=~["a","e","i","o","u"].indexOf(type.charAt(0))?"an ":"a ";this.assert(type===_.type(obj),"expected #{this} to be "+article+type,"expected #{this} not to be "+article+type)}function includeChainingBehavior(){flag(this,"contains",!0)}function include(val,msg){_.expectTypes(this,["array","object","string"]),msg&&flag(this,"message",msg);var obj=flag(this,"object"),expected=!1;if("array"===_.type(obj)&&"object"===_.type(val)){for(var i in obj)if(_.eql(obj[i],val)){expected=!0;break}}else if("object"===_.type(val)){if(!flag(this,"negate")){for(var k in val)new Assertion(obj).property(k,val[k]);return}var subset={};for(var k in val)subset[k]=obj[k];expected=_.eql(subset,val)}else expected=void 0!=obj&&~obj.indexOf(val);this.assert(expected,"expected #{this} to include "+_.inspect(val),"expected #{this} to not include "+_.inspect(val))}function checkArguments(){var obj=flag(this,"object"),type=Object.prototype.toString.call(obj);this.assert("[object Arguments]"===type,"expected #{this} to be arguments but got "+type,"expected #{this} to not be arguments")}function assertEqual(val,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object");return flag(this,"deep")?this.eql(val):void this.assert(val===obj,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",val,this._obj,!0)}function assertEql(obj,msg){msg&&flag(this,"message",msg),this.assert(_.eql(obj,flag(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",obj,this._obj,!0)}function assertAbove(n,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object");if(flag(this,"doLength")){new Assertion(obj,msg).to.have.property("length");var len=obj.length;this.assert(len>n,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",n,len)}else this.assert(obj>n,"expected #{this} to be above "+n,"expected #{this} to be at most "+n)}function assertLeast(n,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object");if(flag(this,"doLength")){new Assertion(obj,msg).to.have.property("length");var len=obj.length;this.assert(len>=n,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",n,len)}else this.assert(obj>=n,"expected #{this} to be at least "+n,"expected #{this} to be below "+n)}function assertBelow(n,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object");if(flag(this,"doLength")){new Assertion(obj,msg).to.have.property("length");var len=obj.length;this.assert(len<n,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",n,len)}else this.assert(obj<n,"expected #{this} to be below "+n,"expected #{this} to be at least "+n)}function assertMost(n,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object");if(flag(this,"doLength")){new Assertion(obj,msg).to.have.property("length");var len=obj.length;this.assert(len<=n,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",n,len)}else this.assert(obj<=n,"expected #{this} to be at most "+n,"expected #{this} to be above "+n)}function assertInstanceOf(constructor,msg){msg&&flag(this,"message",msg);var name=_.getName(constructor);this.assert(flag(this,"object")instanceof constructor,"expected #{this} to be an instance of "+name,"expected #{this} to not be an instance of "+name)}function assertOwnProperty(name,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object");this.assert(obj.hasOwnProperty(name),"expected #{this} to have own property "+_.inspect(name),"expected #{this} to not have own property "+_.inspect(name))}function assertOwnPropertyDescriptor(name,descriptor,msg){"string"==typeof descriptor&&(msg=descriptor,descriptor=null),msg&&flag(this,"message",msg);var obj=flag(this,"object"),actualDescriptor=Object.getOwnPropertyDescriptor(Object(obj),name);actualDescriptor&&descriptor?this.assert(_.eql(descriptor,actualDescriptor),"expected the own property descriptor for "+_.inspect(name)+" on #{this} to match "+_.inspect(descriptor)+", got "+_.inspect(actualDescriptor),"expected the own property descriptor for "+_.inspect(name)+" on #{this} to not match "+_.inspect(descriptor),descriptor,actualDescriptor,!0):this.assert(actualDescriptor,"expected #{this} to have an own property descriptor for "+_.inspect(name),"expected #{this} to not have an own property descriptor for "+_.inspect(name)),flag(this,"object",actualDescriptor)}function assertLengthChain(){flag(this,"doLength",!0)}function assertLength(n,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object");new Assertion(obj,msg).to.have.property("length");var len=obj.length;this.assert(len==n,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",n,len)}function assertMatch(re,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object");this.assert(re.exec(obj),"expected #{this} to match "+re,"expected #{this} not to match "+re)}function assertKeys(keys){var str,obj=flag(this,"object"),ok=!0,mixedArgsMsg="keys must be given single argument of Array|Object|String, or multiple String arguments";switch(_.type(keys)){case"array":if(arguments.length>1)throw new Error(mixedArgsMsg);break;case"object":if(arguments.length>1)throw new Error(mixedArgsMsg);keys=Object.keys(keys);break;default:keys=Array.prototype.slice.call(arguments)}if(!keys.length)throw new Error("keys required");var actual=Object.keys(obj),expected=keys,len=keys.length,any=flag(this,"any"),all=flag(this,"all");if(any||all||(all=!0),any){var intersection=expected.filter(function(key){return~actual.indexOf(key)});ok=intersection.length>0}if(all&&(ok=keys.every(function(key){return~actual.indexOf(key)}),flag(this,"negate")||flag(this,"contains")||(ok=ok&&keys.length==actual.length)),len>1){keys=keys.map(function(key){return _.inspect(key)});var last=keys.pop();all&&(str=keys.join(", ")+", and "+last),any&&(str=keys.join(", ")+", or "+last)}else str=_.inspect(keys[0]);str=(len>1?"keys ":"key ")+str,str=(flag(this,"contains")?"contain ":"have ")+str,this.assert(ok,"expected #{this} to "+str,"expected #{this} to not "+str,expected.slice(0).sort(),actual.sort(),!0)}function assertThrows(constructor,errMsg,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object");new Assertion(obj,msg).is.a("function");var thrown=!1,desiredError=null,name=null,thrownError=null;0===arguments.length?(errMsg=null,constructor=null):constructor&&(constructor instanceof RegExp||"string"==typeof constructor)?(errMsg=constructor,constructor=null):constructor&&constructor instanceof Error?(desiredError=constructor,constructor=null,errMsg=null):"function"==typeof constructor?(name=constructor.prototype.name,(!name||"Error"===name&&constructor!==Error)&&(name=constructor.name||(new constructor).name)):constructor=null;try{obj()}catch(err){if(desiredError)return this.assert(err===desiredError,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",desiredError instanceof Error?desiredError.toString():desiredError,err instanceof Error?err.toString():err),flag(this,"object",err),this;if(constructor&&(this.assert(err instanceof constructor,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",name,err instanceof Error?err.toString():err),!errMsg))return flag(this,"object",err),this;var message="error"===_.type(err)&&"message"in err?err.message:""+err;if(null!=message&&errMsg&&errMsg instanceof RegExp)return this.assert(errMsg.exec(message),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",errMsg,message),flag(this,"object",err),this;if(null!=message&&errMsg&&"string"==typeof errMsg)return this.assert(~message.indexOf(errMsg),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",errMsg,message),flag(this,"object",err),this;thrown=!0,thrownError=err}var actuallyGot="",expectedThrown=null!==name?name:desiredError?"#{exp}":"an error";thrown&&(actuallyGot=" but #{act} was thrown"),this.assert(thrown===!0,"expected #{this} to throw "+expectedThrown+actuallyGot,"expected #{this} to not throw "+expectedThrown+actuallyGot,desiredError instanceof Error?desiredError.toString():desiredError,thrownError instanceof Error?thrownError.toString():thrownError),flag(this,"object",thrownError)}function respondTo(method,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object"),itself=flag(this,"itself"),context="function"!==_.type(obj)||itself?obj[method]:obj.prototype[method];this.assert("function"==typeof context,"expected #{this} to respond to "+_.inspect(method),"expected #{this} to not respond to "+_.inspect(method))}function satisfy(matcher,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object"),result=matcher(obj);this.assert(result,"expected #{this} to satisfy "+_.objDisplay(matcher),"expected #{this} to not satisfy"+_.objDisplay(matcher),!this.negate,result)}function closeTo(expected,delta,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object");if(new Assertion(obj,msg).is.a("number"),"number"!==_.type(expected)||"number"!==_.type(delta))throw new Error("the arguments to closeTo or approximately must be numbers");this.assert(Math.abs(obj-expected)<=delta,"expected #{this} to be close to "+expected+" +/- "+delta,"expected #{this} not to be close to "+expected+" +/- "+delta)}function isSubsetOf(subset,superset,cmp){return subset.every(function(elem){return cmp?superset.some(function(elem2){return cmp(elem,elem2)}):superset.indexOf(elem)!==-1})}function oneOf(list,msg){msg&&flag(this,"message",msg);var expected=flag(this,"object");new Assertion(list).to.be.an("array"),this.assert(list.indexOf(expected)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",list,expected)}function assertChanges(object,prop,msg){msg&&flag(this,"message",msg);var fn=flag(this,"object");new Assertion(object,msg).to.have.property(prop),new Assertion(fn).is.a("function");var initial=object[prop];fn(),this.assert(initial!==object[prop],"expected ."+prop+" to change","expected ."+prop+" to not change")}function assertIncreases(object,prop,msg){msg&&flag(this,"message",msg);var fn=flag(this,"object");new Assertion(object,msg).to.have.property(prop),new Assertion(fn).is.a("function");var initial=object[prop];fn(),this.assert(object[prop]-initial>0,"expected ."+prop+" to increase","expected ."+prop+" to not increase")}function assertDecreases(object,prop,msg){msg&&flag(this,"message",msg);var fn=flag(this,"object");new Assertion(object,msg).to.have.property(prop),new Assertion(fn).is.a("function");var initial=object[prop];fn(),this.assert(object[prop]-initial<0,"expected ."+prop+" to decrease","expected ."+prop+" to not decrease")}var Assertion=chai.Assertion,flag=(Object.prototype.toString,_.flag);["to","be","been","is","and","has","have","with","that","which","at","of","same"].forEach(function(chain){Assertion.addProperty(chain,function(){return this})}),Assertion.addProperty("not",function(){flag(this,"negate",!0)}),Assertion.addProperty("deep",function(){flag(this,"deep",!0)}),Assertion.addProperty("any",function(){flag(this,"any",!0),flag(this,"all",!1)}),Assertion.addProperty("all",function(){flag(this,"all",!0),flag(this,"any",!1)}),Assertion.addChainableMethod("an",an),Assertion.addChainableMethod("a",an),Assertion.addChainableMethod("include",include,includeChainingBehavior),Assertion.addChainableMethod("contain",include,includeChainingBehavior),Assertion.addChainableMethod("contains",include,includeChainingBehavior),Assertion.addChainableMethod("includes",include,includeChainingBehavior),Assertion.addProperty("ok",function(){this.assert(flag(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),Assertion.addProperty("true",function(){this.assert(!0===flag(this,"object"),"expected #{this} to be true","expected #{this} to be false",!this.negate)}),Assertion.addProperty("false",function(){this.assert(!1===flag(this,"object"),"expected #{this} to be false","expected #{this} to be true",!!this.negate)}),Assertion.addProperty("null",function(){this.assert(null===flag(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),Assertion.addProperty("undefined",function(){this.assert(void 0===flag(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),Assertion.addProperty("NaN",function(){this.assert(isNaN(flag(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")}),Assertion.addProperty("exist",function(){this.assert(null!=flag(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),Assertion.addProperty("empty",function(){var obj=flag(this,"object"),expected=obj;Array.isArray(obj)||"string"==typeof object?expected=obj.length:"object"==typeof obj&&(expected=Object.keys(obj).length),this.assert(!expected,"expected #{this} to be empty","expected #{this} not to be empty")}),Assertion.addProperty("arguments",checkArguments),Assertion.addProperty("Arguments",checkArguments),Assertion.addMethod("equal",assertEqual),Assertion.addMethod("equals",assertEqual),Assertion.addMethod("eq",assertEqual),Assertion.addMethod("eql",assertEql),Assertion.addMethod("eqls",assertEql),Assertion.addMethod("above",assertAbove),Assertion.addMethod("gt",assertAbove),Assertion.addMethod("greaterThan",assertAbove),Assertion.addMethod("least",assertLeast),Assertion.addMethod("gte",assertLeast),Assertion.addMethod("below",assertBelow),Assertion.addMethod("lt",assertBelow),Assertion.addMethod("lessThan",assertBelow),Assertion.addMethod("most",assertMost),Assertion.addMethod("lte",assertMost),Assertion.addMethod("within",function(start,finish,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object"),range=start+".."+finish;if(flag(this,"doLength")){new Assertion(obj,msg).to.have.property("length");var len=obj.length;this.assert(len>=start&&len<=finish,"expected #{this} to have a length within "+range,"expected #{this} to not have a length within "+range)}else this.assert(obj>=start&&obj<=finish,"expected #{this} to be within "+range,"expected #{this} to not be within "+range)}),Assertion.addMethod("instanceof",assertInstanceOf),Assertion.addMethod("instanceOf",assertInstanceOf),
Assertion.addMethod("property",function(name,val,msg){msg&&flag(this,"message",msg);var isDeep=!!flag(this,"deep"),descriptor=isDeep?"deep property ":"property ",negate=flag(this,"negate"),obj=flag(this,"object"),pathInfo=isDeep?_.getPathInfo(name,obj):null,hasProperty=isDeep?pathInfo.exists:_.hasProperty(name,obj),value=isDeep?pathInfo.value:obj[name];if(negate&&arguments.length>1){if(void 0===value)throw msg=null!=msg?msg+": ":"",new Error(msg+_.inspect(obj)+" has no "+descriptor+_.inspect(name))}else this.assert(hasProperty,"expected #{this} to have a "+descriptor+_.inspect(name),"expected #{this} to not have "+descriptor+_.inspect(name));arguments.length>1&&this.assert(val===value,"expected #{this} to have a "+descriptor+_.inspect(name)+" of #{exp}, but got #{act}","expected #{this} to not have a "+descriptor+_.inspect(name)+" of #{act}",val,value),flag(this,"object",value)}),Assertion.addMethod("ownProperty",assertOwnProperty),Assertion.addMethod("haveOwnProperty",assertOwnProperty),Assertion.addMethod("ownPropertyDescriptor",assertOwnPropertyDescriptor),Assertion.addMethod("haveOwnPropertyDescriptor",assertOwnPropertyDescriptor),Assertion.addChainableMethod("length",assertLength,assertLengthChain),Assertion.addMethod("lengthOf",assertLength),Assertion.addMethod("match",assertMatch),Assertion.addMethod("matches",assertMatch),Assertion.addMethod("string",function(str,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object");new Assertion(obj,msg).is.a("string"),this.assert(~obj.indexOf(str),"expected #{this} to contain "+_.inspect(str),"expected #{this} to not contain "+_.inspect(str))}),Assertion.addMethod("keys",assertKeys),Assertion.addMethod("key",assertKeys),Assertion.addMethod("throw",assertThrows),Assertion.addMethod("throws",assertThrows),Assertion.addMethod("Throw",assertThrows),Assertion.addMethod("respondTo",respondTo),Assertion.addMethod("respondsTo",respondTo),Assertion.addProperty("itself",function(){flag(this,"itself",!0)}),Assertion.addMethod("satisfy",satisfy),Assertion.addMethod("satisfies",satisfy),Assertion.addMethod("closeTo",closeTo),Assertion.addMethod("approximately",closeTo),Assertion.addMethod("members",function(subset,msg){msg&&flag(this,"message",msg);var obj=flag(this,"object");new Assertion(obj).to.be.an("array"),new Assertion(subset).to.be.an("array");var cmp=flag(this,"deep")?_.eql:void 0;return flag(this,"contains")?this.assert(isSubsetOf(subset,obj,cmp),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",obj,subset):void this.assert(isSubsetOf(obj,subset,cmp)&&isSubsetOf(subset,obj,cmp),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",obj,subset)}),Assertion.addMethod("oneOf",oneOf),Assertion.addChainableMethod("change",assertChanges),Assertion.addChainableMethod("changes",assertChanges),Assertion.addChainableMethod("increase",assertIncreases),Assertion.addChainableMethod("increases",assertIncreases),Assertion.addChainableMethod("decrease",assertDecreases),Assertion.addChainableMethod("decreases",assertDecreases),Assertion.addProperty("extensible",function(){var isExtensible,obj=flag(this,"object");try{isExtensible=Object.isExtensible(obj)}catch(err){if(!(err instanceof TypeError))throw err;isExtensible=!1}this.assert(isExtensible,"expected #{this} to be extensible","expected #{this} to not be extensible")}),Assertion.addProperty("sealed",function(){var isSealed,obj=flag(this,"object");try{isSealed=Object.isSealed(obj)}catch(err){if(!(err instanceof TypeError))throw err;isSealed=!0}this.assert(isSealed,"expected #{this} to be sealed","expected #{this} to not be sealed")}),Assertion.addProperty("frozen",function(){var isFrozen,obj=flag(this,"object");try{isFrozen=Object.isFrozen(obj)}catch(err){if(!(err instanceof TypeError))throw err;isFrozen=!0}this.assert(isFrozen,"expected #{this} to be frozen","expected #{this} to not be frozen")})}},{}],14:[function(require,module,exports){module.exports=function(chai,util){var Assertion=chai.Assertion,flag=util.flag,assert=chai.assert=function(express,errmsg){var test=new Assertion(null,null,chai.assert);test.assert(express,errmsg,"[ negation message unavailable ]")};assert.fail=function(actual,expected,message,operator){throw message=message||"assert.fail()",new chai.AssertionError(message,{actual:actual,expected:expected,operator:operator},assert.fail)},assert.isOk=function(val,msg){new Assertion(val,msg).is.ok},assert.isNotOk=function(val,msg){new Assertion(val,msg).is.not.ok},assert.equal=function(act,exp,msg){var test=new Assertion(act,msg,assert.equal);test.assert(exp==flag(test,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",exp,act)},assert.notEqual=function(act,exp,msg){var test=new Assertion(act,msg,assert.notEqual);test.assert(exp!=flag(test,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",exp,act)},assert.strictEqual=function(act,exp,msg){new Assertion(act,msg).to.equal(exp)},assert.notStrictEqual=function(act,exp,msg){new Assertion(act,msg).to.not.equal(exp)},assert.deepEqual=function(act,exp,msg){new Assertion(act,msg).to.eql(exp)},assert.notDeepEqual=function(act,exp,msg){new Assertion(act,msg).to.not.eql(exp)},assert.isAbove=function(val,abv,msg){new Assertion(val,msg).to.be.above(abv)},assert.isAtLeast=function(val,atlst,msg){new Assertion(val,msg).to.be.least(atlst)},assert.isBelow=function(val,blw,msg){new Assertion(val,msg).to.be.below(blw)},assert.isAtMost=function(val,atmst,msg){new Assertion(val,msg).to.be.most(atmst)},assert.isTrue=function(val,msg){new Assertion(val,msg).is["true"]},assert.isNotTrue=function(val,msg){new Assertion(val,msg).to.not.equal(!0)},assert.isFalse=function(val,msg){new Assertion(val,msg).is["false"]},assert.isNotFalse=function(val,msg){new Assertion(val,msg).to.not.equal(!1)},assert.isNull=function(val,msg){new Assertion(val,msg).to.equal(null)},assert.isNotNull=function(val,msg){new Assertion(val,msg).to.not.equal(null)},assert.isNaN=function(val,msg){new Assertion(val,msg).to.be.NaN},assert.isNotNaN=function(val,msg){new Assertion(val,msg).not.to.be.NaN},assert.isUndefined=function(val,msg){new Assertion(val,msg).to.equal(void 0)},assert.isDefined=function(val,msg){new Assertion(val,msg).to.not.equal(void 0)},assert.isFunction=function(val,msg){new Assertion(val,msg).to.be.a("function")},assert.isNotFunction=function(val,msg){new Assertion(val,msg).to.not.be.a("function")},assert.isObject=function(val,msg){new Assertion(val,msg).to.be.a("object")},assert.isNotObject=function(val,msg){new Assertion(val,msg).to.not.be.a("object")},assert.isArray=function(val,msg){new Assertion(val,msg).to.be.an("array")},assert.isNotArray=function(val,msg){new Assertion(val,msg).to.not.be.an("array")},assert.isString=function(val,msg){new Assertion(val,msg).to.be.a("string")},assert.isNotString=function(val,msg){new Assertion(val,msg).to.not.be.a("string")},assert.isNumber=function(val,msg){new Assertion(val,msg).to.be.a("number")},assert.isNotNumber=function(val,msg){new Assertion(val,msg).to.not.be.a("number")},assert.isBoolean=function(val,msg){new Assertion(val,msg).to.be.a("boolean")},assert.isNotBoolean=function(val,msg){new Assertion(val,msg).to.not.be.a("boolean")},assert.typeOf=function(val,type,msg){new Assertion(val,msg).to.be.a(type)},assert.notTypeOf=function(val,type,msg){new Assertion(val,msg).to.not.be.a(type)},assert.instanceOf=function(val,type,msg){new Assertion(val,msg).to.be.instanceOf(type)},assert.notInstanceOf=function(val,type,msg){new Assertion(val,msg).to.not.be.instanceOf(type)},assert.include=function(exp,inc,msg){new Assertion(exp,msg,assert.include).include(inc)},assert.notInclude=function(exp,inc,msg){new Assertion(exp,msg,assert.notInclude).not.include(inc)},assert.match=function(exp,re,msg){new Assertion(exp,msg).to.match(re)},assert.notMatch=function(exp,re,msg){new Assertion(exp,msg).to.not.match(re)},assert.property=function(obj,prop,msg){new Assertion(obj,msg).to.have.property(prop)},assert.notProperty=function(obj,prop,msg){new Assertion(obj,msg).to.not.have.property(prop)},assert.deepProperty=function(obj,prop,msg){new Assertion(obj,msg).to.have.deep.property(prop)},assert.notDeepProperty=function(obj,prop,msg){new Assertion(obj,msg).to.not.have.deep.property(prop)},assert.propertyVal=function(obj,prop,val,msg){new Assertion(obj,msg).to.have.property(prop,val)},assert.propertyNotVal=function(obj,prop,val,msg){new Assertion(obj,msg).to.not.have.property(prop,val)},assert.deepPropertyVal=function(obj,prop,val,msg){new Assertion(obj,msg).to.have.deep.property(prop,val)},assert.deepPropertyNotVal=function(obj,prop,val,msg){new Assertion(obj,msg).to.not.have.deep.property(prop,val)},assert.lengthOf=function(exp,len,msg){new Assertion(exp,msg).to.have.length(len)},assert["throws"]=function(fn,errt,errs,msg){("string"==typeof errt||errt instanceof RegExp)&&(errs=errt,errt=null);var assertErr=new Assertion(fn,msg).to["throw"](errt,errs);return flag(assertErr,"object")},assert.doesNotThrow=function(fn,type,msg){"string"==typeof type&&(msg=type,type=null),new Assertion(fn,msg).to.not.Throw(type)},assert.operator=function(val,operator,val2,msg){var ok;switch(operator){case"==":ok=val==val2;break;case"===":ok=val===val2;break;case">":ok=val>val2;break;case">=":ok=val>=val2;break;case"<":ok=val<val2;break;case"<=":ok=val<=val2;break;case"!=":ok=val!=val2;break;case"!==":ok=val!==val2;break;default:throw new Error('Invalid operator "'+operator+'"')}var test=new Assertion(ok,msg);test.assert(!0===flag(test,"object"),"expected "+util.inspect(val)+" to be "+operator+" "+util.inspect(val2),"expected "+util.inspect(val)+" to not be "+operator+" "+util.inspect(val2))},assert.closeTo=function(act,exp,delta,msg){new Assertion(act,msg).to.be.closeTo(exp,delta)},assert.approximately=function(act,exp,delta,msg){new Assertion(act,msg).to.be.approximately(exp,delta)},assert.sameMembers=function(set1,set2,msg){new Assertion(set1,msg).to.have.same.members(set2)},assert.sameDeepMembers=function(set1,set2,msg){new Assertion(set1,msg).to.have.same.deep.members(set2)},assert.includeMembers=function(superset,subset,msg){new Assertion(superset,msg).to.include.members(subset)},assert.includeDeepMembers=function(superset,subset,msg){new Assertion(superset,msg).to.include.deep.members(subset)},assert.oneOf=function(inList,list,msg){new Assertion(inList,msg).to.be.oneOf(list)},assert.changes=function(fn,obj,prop){new Assertion(fn).to.change(obj,prop)},assert.doesNotChange=function(fn,obj,prop){new Assertion(fn).to.not.change(obj,prop)},assert.increases=function(fn,obj,prop){new Assertion(fn).to.increase(obj,prop)},assert.doesNotIncrease=function(fn,obj,prop){new Assertion(fn).to.not.increase(obj,prop)},assert.decreases=function(fn,obj,prop){new Assertion(fn).to.decrease(obj,prop)},assert.doesNotDecrease=function(fn,obj,prop){new Assertion(fn).to.not.decrease(obj,prop)},assert.ifError=function(val){if(val)throw val},assert.isExtensible=function(obj,msg){new Assertion(obj,msg).to.be.extensible},assert.isNotExtensible=function(obj,msg){new Assertion(obj,msg).to.not.be.extensible},assert.isSealed=function(obj,msg){new Assertion(obj,msg).to.be.sealed},assert.isNotSealed=function(obj,msg){new Assertion(obj,msg).to.not.be.sealed},assert.isFrozen=function(obj,msg){new Assertion(obj,msg).to.be.frozen},assert.isNotFrozen=function(obj,msg){new Assertion(obj,msg).to.not.be.frozen},function alias(name,as){return assert[as]=assert[name],alias}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")}},{}],15:[function(require,module,exports){module.exports=function(chai,util){chai.expect=function(val,message){return new chai.Assertion(val,message)},chai.expect.fail=function(actual,expected,message,operator){throw message=message||"expect.fail()",new chai.AssertionError(message,{actual:actual,expected:expected,operator:operator},chai.expect.fail)}}},{}],16:[function(require,module,exports){module.exports=function(chai,util){function loadShould(){function shouldGetter(){return this instanceof String||this instanceof Number||this instanceof Boolean?new Assertion(this.valueOf(),null,shouldGetter):new Assertion(this,null,shouldGetter)}function shouldSetter(value){Object.defineProperty(this,"should",{value:value,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:shouldSetter,get:shouldGetter,configurable:!0});var should={};return should.fail=function(actual,expected,message,operator){throw message=message||"should.fail()",new chai.AssertionError(message,{actual:actual,expected:expected,operator:operator},should.fail)},should.equal=function(val1,val2,msg){new Assertion(val1,msg).to.equal(val2)},should.Throw=function(fn,errt,errs,msg){new Assertion(fn,msg).to.Throw(errt,errs)},should.exist=function(val,msg){new Assertion(val,msg).to.exist},should.not={},should.not.equal=function(val1,val2,msg){new Assertion(val1,msg).to.not.equal(val2)},should.not.Throw=function(fn,errt,errs,msg){new Assertion(fn,msg).to.not.Throw(errt,errs)},should.not.exist=function(val,msg){new Assertion(val,msg).to.not.exist},should["throw"]=should.Throw,should.not["throw"]=should.not.Throw,should}var Assertion=chai.Assertion;chai.should=loadShould,chai.Should=loadShould}},{}],17:[function(require,module,exports){var transferFlags=require("./transferFlags"),flag=require("./flag"),config=require("../config"),hasProtoSupport="__proto__"in Object,excludeNames=/^(?:length|name|arguments|caller)$/,call=Function.prototype.call,apply=Function.prototype.apply;module.exports=function(ctx,name,method,chainingBehavior){"function"!=typeof chainingBehavior&&(chainingBehavior=function(){});var chainableBehavior={method:method,chainingBehavior:chainingBehavior};ctx.__methods||(ctx.__methods={}),ctx.__methods[name]=chainableBehavior,Object.defineProperty(ctx,name,{get:function(){chainableBehavior.chainingBehavior.call(this);var assert=function assert(){var old_ssfi=flag(this,"ssfi");old_ssfi&&config.includeStack===!1&&flag(this,"ssfi",assert);var result=chainableBehavior.method.apply(this,arguments);return void 0===result?this:result};if(hasProtoSupport){var prototype=assert.__proto__=Object.create(this);prototype.call=call,prototype.apply=apply}else{var asserterNames=Object.getOwnPropertyNames(ctx);asserterNames.forEach(function(asserterName){if(!excludeNames.test(asserterName)){var pd=Object.getOwnPropertyDescriptor(ctx,asserterName);Object.defineProperty(assert,asserterName,pd)}})}return transferFlags(this,assert),assert},configurable:!0})}},{"../config":12,"./flag":21,"./transferFlags":37}],18:[function(require,module,exports){var config=require("../config"),flag=require("./flag");module.exports=function(ctx,name,method){ctx[name]=function(){var old_ssfi=flag(this,"ssfi");old_ssfi&&config.includeStack===!1&&flag(this,"ssfi",ctx[name]);var result=method.apply(this,arguments);return void 0===result?this:result}}},{"../config":12,"./flag":21}],19:[function(require,module,exports){var config=require("../config"),flag=require("./flag");module.exports=function(ctx,name,getter){Object.defineProperty(ctx,name,{get:function addProperty(){var old_ssfi=flag(this,"ssfi");old_ssfi&&config.includeStack===!1&&flag(this,"ssfi",addProperty);var result=getter.call(this);return void 0===result?this:result},configurable:!0})}},{"../config":12,"./flag":21}],20:[function(require,module,exports){var AssertionError=require("assertion-error"),flag=require("./flag"),type=require("type-detect");module.exports=function(obj,types){var obj=flag(obj,"object");types=types.map(function(t){return t.toLowerCase()}),types.sort();var str=types.map(function(t,index){var art=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an":"a",or=types.length>1&&index===types.length-1?"or ":"";return or+art+" "+t}).join(", ");if(!types.some(function(expected){return type(obj)===expected}))throw new AssertionError("object tested must be "+str+", but "+type(obj)+" given")}},{"./flag":21,"assertion-error":38,"type-detect":43}],21:[function(require,module,exports){module.exports=function(obj,key,value){var flags=obj.__flags||(obj.__flags=Object.create(null));return 3!==arguments.length?flags[key]:void(flags[key]=value)}},{}],22:[function(require,module,exports){module.exports=function(obj,args){return args.length>4?args[4]:obj._obj}},{}],23:[function(require,module,exports){module.exports=function(object){var result=[];for(var name in object)result.push(name);return result}},{}],24:[function(require,module,exports){var flag=require("./flag"),getActual=require("./getActual"),objDisplay=(require("./inspect"),require("./objDisplay"));module.exports=function(obj,args){var negate=flag(obj,"negate"),val=flag(obj,"object"),expected=args[3],actual=getActual(obj,args),msg=negate?args[2]:args[1],flagMsg=flag(obj,"message");return"function"==typeof msg&&(msg=msg()),msg=msg||"",msg=msg.replace(/#\{this\}/g,function(){return objDisplay(val)}).replace(/#\{act\}/g,function(){return objDisplay(actual)}).replace(/#\{exp\}/g,function(){return objDisplay(expected)}),flagMsg?flagMsg+": "+msg:msg}},{"./flag":21,"./getActual":22,"./inspect":31,"./objDisplay":32}],25:[function(require,module,exports){module.exports=function(func){if(func.name)return func.name;var match=/^\s?function ([^(]*)\(/.exec(func);return match&&match[1]?match[1]:""}},{}],26:[function(require,module,exports){function parsePath(path){var str=path.replace(/([^\\])\[/g,"$1.["),parts=str.match(/(\\\.|[^.]+?)+/g);return parts.map(function(value){var re=/^\[(\d+)\]$/,mArr=re.exec(value);return mArr?{i:parseFloat(mArr[1])}:{p:value.replace(/\\([.\[\]])/g,"$1")}})}function _getPathValue(parsed,obj,index){var res,tmp=obj;index=void 0===index?parsed.length:index;for(var i=0,l=index;i<l;i++){var part=parsed[i];tmp?("undefined"!=typeof part.p?tmp=tmp[part.p]:"undefined"!=typeof part.i&&(tmp=tmp[part.i]),i==l-1&&(res=tmp)):res=void 0}return res}var hasProperty=require("./hasProperty");module.exports=function(path,obj){var parsed=parsePath(path),last=parsed[parsed.length-1],info={parent:parsed.length>1?_getPathValue(parsed,obj,parsed.length-1):obj,name:last.p||last.i,value:_getPathValue(parsed,obj)};return info.exists=hasProperty(info.name,info.parent),info}},{"./hasProperty":29}],27:[function(require,module,exports){var getPathInfo=require("./getPathInfo");module.exports=function(path,obj){var info=getPathInfo(path,obj);return info.value}},{"./getPathInfo":26}],28:[function(require,module,exports){module.exports=function(object){function addProperty(property){result.indexOf(property)===-1&&result.push(property)}for(var result=Object.getOwnPropertyNames(object),proto=Object.getPrototypeOf(object);null!==proto;)Object.getOwnPropertyNames(proto).forEach(addProperty),proto=Object.getPrototypeOf(proto);return result}},{}],29:[function(require,module,exports){var type=require("type-detect"),literals={number:Number,string:String};module.exports=function(name,obj){var ot=type(obj);return"null"!==ot&&"undefined"!==ot&&(literals[ot]&&"object"!=typeof obj&&(obj=new literals[ot](obj)),name in obj)}},{"type-detect":43}],30:[function(require,module,exports){var exports=module.exports={};exports.test=require("./test"),exports.type=require("type-detect"),exports.expectTypes=require("./expectTypes"),exports.getMessage=require("./getMessage"),exports.getActual=require("./getActual"),exports.inspect=require("./inspect"),exports.objDisplay=require("./objDisplay"),exports.flag=require("./flag"),exports.transferFlags=require("./transferFlags"),exports.eql=require("deep-eql"),exports.getPathValue=require("./getPathValue"),exports.getPathInfo=require("./getPathInfo"),exports.hasProperty=require("./hasProperty"),exports.getName=require("./getName"),exports.addProperty=require("./addProperty"),exports.addMethod=require("./addMethod"),exports.overwriteProperty=require("./overwriteProperty"),exports.overwriteMethod=require("./overwriteMethod"),exports.addChainableMethod=require("./addChainableMethod"),exports.overwriteChainableMethod=require("./overwriteChainableMethod")},{"./addChainableMethod":17,"./addMethod":18,"./addProperty":19,"./expectTypes":20,"./flag":21,"./getActual":22,"./getMessage":24,"./getName":25,"./getPathInfo":26,"./getPathValue":27,"./hasProperty":29,"./inspect":31,"./objDisplay":32,"./overwriteChainableMethod":33,"./overwriteMethod":34,"./overwriteProperty":35,"./test":36,"./transferFlags":37,"deep-eql":39,"type-detect":43}],31:[function(require,module,exports){function inspect(obj,showHidden,depth,colors){var ctx={showHidden:showHidden,seen:[],stylize:function(str){return str}};return formatValue(ctx,obj,"undefined"==typeof depth?2:depth)}function formatValue(ctx,value,recurseTimes){if(value&&"function"==typeof value.inspect&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes);return"string"!=typeof ret&&(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;if(isDOMElement(value)){if("outerHTML"in value)return value.outerHTML;try{if(document.xmlVersion){var xmlSerializer=new XMLSerializer;return xmlSerializer.serializeToString(value)}var ns="http://www.w3.org/1999/xhtml",container=document.createElementNS(ns,"_");return container.appendChild(value.cloneNode(!1)),html=container.innerHTML.replace("><",">"+value.innerHTML+"<"),container.innerHTML="",html}catch(err){}}var visibleKeys=getEnumerableProperties(value),keys=ctx.showHidden?getProperties(value):visibleKeys;if(0===keys.length||isError(value)&&(1===keys.length&&"stack"===keys[0]||2===keys.length&&"description"===keys[0]&&"stack"===keys[1])){if("function"==typeof value){var name=getName(value),nameSuffix=name?": "+name:"";return ctx.stylize("[Function"+nameSuffix+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toUTCString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),"function"==typeof value){var name=getName(value),nameSuffix=name?": "+name:"";base=" [Function"+nameSuffix+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value))return formatError(value);if(0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(recurseTimes<0)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){switch(typeof value){case"undefined":return ctx.stylize("undefined","undefined");case"string":var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string");case"number":return 0===value&&1/value===-(1/0)?ctx.stylize("-0","number"):ctx.stylize(""+value,"number");case"boolean":return ctx.stylize(""+value,"boolean")}if(null===value)return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)Object.prototype.hasOwnProperty.call(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str;if(value.__lookupGetter__&&(value.__lookupGetter__(key)?str=value.__lookupSetter__(key)?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):value.__lookupSetter__(key)&&(str=ctx.stylize("[Setter]","special"))),visibleKeys.indexOf(key)<0&&(name="["+key+"]"),str||(ctx.seen.indexOf(value[key])<0?(str=null===recurseTimes?formatValue(ctx,value[key],null):formatValue(ctx,value[key],recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),"undefined"==typeof name){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.length+1},0);return length>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)||"object"==typeof ar&&"[object Array]"===objectToString(ar)}function isRegExp(re){return"object"==typeof re&&"[object RegExp]"===objectToString(re)}function isDate(d){return"object"==typeof d&&"[object Date]"===objectToString(d)}function isError(e){return"object"==typeof e&&"[object Error]"===objectToString(e)}function objectToString(o){return Object.prototype.toString.call(o)}var getName=require("./getName"),getProperties=require("./getProperties"),getEnumerableProperties=require("./getEnumerableProperties");module.exports=inspect;var isDOMElement=function(object){return"object"==typeof HTMLElement?object instanceof HTMLElement:object&&"object"==typeof object&&1===object.nodeType&&"string"==typeof object.nodeName}},{"./getEnumerableProperties":23,"./getName":25,"./getProperties":28}],32:[function(require,module,exports){var inspect=require("./inspect"),config=require("../config");module.exports=function(obj){var str=inspect(obj),type=Object.prototype.toString.call(obj);if(config.truncateThreshold&&str.length>=config.truncateThreshold){if("[object Function]"===type)return obj.name&&""!==obj.name?"[Function: "+obj.name+"]":"[Function]";if("[object Array]"===type)return"[ Array("+obj.length+") ]";if("[object Object]"===type){var keys=Object.keys(obj),kstr=keys.length>2?keys.splice(0,2).join(", ")+", ...":keys.join(", ");return"{ Object ("+kstr+") }"}return str}return str}},{"../config":12,"./inspect":31}],33:[function(require,module,exports){module.exports=function(ctx,name,method,chainingBehavior){var chainableBehavior=ctx.__methods[name],_chainingBehavior=chainableBehavior.chainingBehavior;chainableBehavior.chainingBehavior=function(){var result=chainingBehavior(_chainingBehavior).call(this);return void 0===result?this:result};var _method=chainableBehavior.method;chainableBehavior.method=function(){var result=method(_method).apply(this,arguments);return void 0===result?this:result}}},{}],34:[function(require,module,exports){module.exports=function(ctx,name,method){var _method=ctx[name],_super=function(){return this};_method&&"function"==typeof _method&&(_super=_method),ctx[name]=function(){var result=method(_super).apply(this,arguments);return void 0===result?this:result}}},{}],35:[function(require,module,exports){module.exports=function(ctx,name,getter){var _get=Object.getOwnPropertyDescriptor(ctx,name),_super=function(){};_get&&"function"==typeof _get.get&&(_super=_get.get),Object.defineProperty(ctx,name,{get:function(){var result=getter(_super).call(this);return void 0===result?this:result},configurable:!0})}},{}],36:[function(require,module,exports){var flag=require("./flag");module.exports=function(obj,args){var negate=flag(obj,"negate"),expr=args[0];return negate?!expr:expr}},{"./flag":21}],37:[function(require,module,exports){module.exports=function(assertion,object,includeAll){var flags=assertion.__flags||(assertion.__flags=Object.create(null));object.__flags||(object.__flags=Object.create(null)),includeAll=3!==arguments.length||includeAll;for(var flag in flags)(includeAll||"object"!==flag&&"ssfi"!==flag&&"message"!=flag)&&(object.__flags[flag]=flags[flag])}},{}],38:[function(require,module,exports){function exclude(){function excludeProps(res,obj){Object.keys(obj).forEach(function(key){~excludes.indexOf(key)||(res[key]=obj[key])})}var excludes=[].slice.call(arguments);return function(){for(var args=[].slice.call(arguments),i=0,res={};i<args.length;i++)excludeProps(res,args[i]);return res}}function AssertionError(message,_props,ssf){var extend=exclude("name","message","stack","constructor","toJSON"),props=extend(_props||{});this.message=message||"Unspecified AssertionError",this.showDiff=!1;for(var key in props)this[key]=props[key];if(ssf=ssf||arguments.callee,ssf&&Error.captureStackTrace)Error.captureStackTrace(this,ssf);else try{throw new Error}catch(e){this.stack=e.stack}}module.exports=AssertionError,AssertionError.prototype=Object.create(Error.prototype),AssertionError.prototype.name="AssertionError",AssertionError.prototype.constructor=AssertionError,AssertionError.prototype.toJSON=function(stack){var extend=exclude("constructor","toJSON","stack"),props=extend({name:this.name},this);return!1!==stack&&this.stack&&(props.stack=this.stack),props}},{}],39:[function(require,module,exports){module.exports=require("./lib/eql")},{"./lib/eql":40}],40:[function(require,module,exports){function deepEqual(a,b,m){return!!sameValue(a,b)||("date"===type(a)?dateEqual(a,b):"regexp"===type(a)?regexpEqual(a,b):Buffer.isBuffer(a)?bufferEqual(a,b):"arguments"===type(a)?argumentsEqual(a,b,m):!!typeEqual(a,b)&&("object"!==type(a)&&"object"!==type(b)&&"array"!==type(a)&&"array"!==type(b)?sameValue(a,b):objectEqual(a,b,m)))}function sameValue(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}function typeEqual(a,b){return type(a)===type(b)}function dateEqual(a,b){return"date"===type(b)&&sameValue(a.getTime(),b.getTime())}function regexpEqual(a,b){return"regexp"===type(b)&&sameValue(a.toString(),b.toString())}function argumentsEqual(a,b,m){return"arguments"===type(b)&&(a=[].slice.call(a),b=[].slice.call(b),deepEqual(a,b,m))}function enumerable(a){var res=[];for(var key in a)res.push(key);return res}function iterableEqual(a,b){if(a.length!==b.length)return!1;for(var i=0,match=!0;i<a.length;i++)if(a[i]!==b[i]){match=!1;break}return match}function bufferEqual(a,b){return!!Buffer.isBuffer(b)&&iterableEqual(a,b)}function isValue(a){return null!==a&&void 0!==a}function objectEqual(a,b,m){if(!isValue(a)||!isValue(b))return!1;if(a.prototype!==b.prototype)return!1;var i;if(m){for(i=0;i<m.length;i++)if(m[i][0]===a&&m[i][1]===b||m[i][0]===b&&m[i][1]===a)return!0}else m=[];try{var ka=enumerable(a),kb=enumerable(b)}catch(ex){return!1}if(ka.sort(),kb.sort(),!iterableEqual(ka,kb))return!1;m.push([a,b]);var key;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!deepEqual(a[key],b[key],m))return!1;return!0}var Buffer,type=require("type-detect");try{Buffer=require("buffer").Buffer}catch(ex){Buffer={},Buffer.isBuffer=function(){return!1}}module.exports=deepEqual},{buffer:1,"type-detect":41}],41:[function(require,module,exports){module.exports=require("./lib/type")},{"./lib/type":42}],42:[function(require,module,exports){function getType(obj){var str=Object.prototype.toString.call(obj);return natives[str]?natives[str]:null===obj?"null":void 0===obj?"undefined":obj===Object(obj)?"object":typeof obj}function Library(){this.tests={}}var exports=module.exports=getType,natives={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"
};exports.Library=Library,Library.prototype.of=getType,Library.prototype.define=function(type,test){return 1===arguments.length?this.tests[type]:(this.tests[type]=test,this)},Library.prototype.test=function(obj,type){if(type===getType(obj))return!0;var test=this.tests[type];if(test&&"regexp"===getType(test))return test.test(obj);if(test&&"function"===getType(test))return test(obj);throw new ReferenceError('Type test "'+type+'" not defined or invalid.')}},{}],43:[function(require,module,exports){arguments[4][41][0].apply(exports,arguments)},{"./lib/type":44,dup:41}],44:[function(require,module,exports){function getType(obj){var type=Object.prototype.toString.call(obj).match(objectTypeRegexp)[1].toLowerCase();return"function"==typeof Promise&&obj instanceof Promise?"promise":null===obj?"null":void 0===obj?"undefined":type}function Library(){return this instanceof Library?void(this.tests={}):new Library}var exports=module.exports=getType,objectTypeRegexp=/^\[object (.*)\]$/;exports.Library=Library,Library.prototype.of=getType,Library.prototype.define=function(type,test){return 1===arguments.length?this.tests[type]:(this.tests[type]=test,this)},Library.prototype.test=function(obj,type){if(type===getType(obj))return!0;var test=this.tests[type];if(test&&"regexp"===getType(test))return test.test(obj);if(test&&"function"===getType(test))return test(obj);throw new ReferenceError('Type test "'+type+'" not defined or invalid.')}},{}],45:[function(require,module,exports){(function(){"use strict";function loadDependencies(require,exports,module){sinonModule=module.exports=require("./sinon/util/core"),require("./sinon/extend"),require("./sinon/walk"),require("./sinon/typeOf"),require("./sinon/times_in_words"),require("./sinon/spy"),require("./sinon/call"),require("./sinon/behavior"),require("./sinon/stub"),require("./sinon/mock"),require("./sinon/collection"),require("./sinon/assert"),require("./sinon/sandbox"),require("./sinon/test"),require("./sinon/test_case"),require("./sinon/match"),require("./sinon/format"),require("./sinon/log_error")}var sinonModule,isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?define(loadDependencies):isNode?(loadDependencies(require,module.exports,module),sinonModule=module.exports):sinonModule={},sinonModule})()},{"./sinon/assert":46,"./sinon/behavior":47,"./sinon/call":48,"./sinon/collection":49,"./sinon/extend":50,"./sinon/format":51,"./sinon/log_error":52,"./sinon/match":53,"./sinon/mock":54,"./sinon/sandbox":55,"./sinon/spy":56,"./sinon/stub":57,"./sinon/test":58,"./sinon/test_case":59,"./sinon/times_in_words":60,"./sinon/typeOf":61,"./sinon/util/core":62,"./sinon/walk":69}],46:[function(require,module,exports){(function(global){!function(sinonGlobal,global){"use strict";function makeApi(sinon){function verifyIsStub(){for(var method,i=0,l=arguments.length;i<l;++i)method=arguments[i],method||assert.fail("fake is not a spy"),method.proxy&&method.proxy.isSinonProxy?verifyIsStub(method.proxy):("function"!=typeof method&&assert.fail(method+" is not a function"),"function"!=typeof method.getCall&&assert.fail(method+" is not stubbed"))}function verifyIsValidAssertion(assertionMethod,assertionArgs){switch(assertionMethod){case"notCalled":case"called":case"calledOnce":case"calledTwice":case"calledThrice":0!==assertionArgs.length&&assert.fail(assertionMethod+" takes 1 argument but was called with "+(assertionArgs.length+1)+" arguments")}}function failAssertion(object,msg){object=object||global;var failMethod=object.fail||assert.fail;failMethod.call(object,msg)}function mirrorPropAsAssertion(name,method,message){2===arguments.length&&(message=method,method=name),assert[name]=function(fake){verifyIsStub(fake);var args=slice.call(arguments,1);verifyIsValidAssertion(name,args);var failed=!1;failed="function"==typeof method?!method(fake):"function"==typeof fake[method]?!fake[method].apply(fake,args):!fake[method],failed?failAssertion(this,(fake.printf||fake.proxy.printf).apply(fake,[message].concat(args))):assert.pass(name)}}function exposedName(prefix,prop){return!prefix||/^fail/.test(prop)?prop:prefix+prop.slice(0,1).toUpperCase()+prop.slice(1)}var assert;return assert={failException:"AssertError",fail:function(message){var error=new Error(message);throw error.name=this.failException||assert.failException,error},pass:function(){},callOrder:function(){verifyIsStub.apply(null,arguments);var expected="",actual="";if(sinon.calledInOrder(arguments))assert.pass("callOrder");else{try{expected=[].join.call(arguments,", ");for(var calls=slice.call(arguments),i=calls.length;i;)calls[--i].called||calls.splice(i,1);actual=sinon.orderByFirstCall(calls).join(", ")}catch(e){}failAssertion(this,"expected "+expected+" to be called in order but were called as "+actual)}},callCount:function(method,count){if(verifyIsStub(method),method.callCount!==count){var msg="expected %n to be called "+sinon.timesInWords(count)+" but was called %c%C";failAssertion(this,method.printf(msg))}else assert.pass("callCount")},expose:function(target,options){if(!target)throw new TypeError("target is null or undefined");var o=options||{},prefix="undefined"==typeof o.prefix&&"assert"||o.prefix,includeFail="undefined"==typeof o.includeFail||!!o.includeFail;for(var method in this)"expose"===method||!includeFail&&/^(fail)/.test(method)||(target[exposedName(prefix,method)]=this[method]);return target},match:function(actual,expectation){var matcher=sinon.match(expectation);if(matcher.test(actual))assert.pass("match");else{var formatted=["expected value to match","    expected = "+sinon.format(expectation),"    actual = "+sinon.format(actual)];failAssertion(this,formatted.join("\n"))}}},mirrorPropAsAssertion("called","expected %n to have been called at least once but was never called"),mirrorPropAsAssertion("notCalled",function(spy){return!spy.called},"expected %n to not have been called but was called %c%C"),mirrorPropAsAssertion("calledOnce","expected %n to be called once but was called %c%C"),mirrorPropAsAssertion("calledTwice","expected %n to be called twice but was called %c%C"),mirrorPropAsAssertion("calledThrice","expected %n to be called thrice but was called %c%C"),mirrorPropAsAssertion("calledOn","expected %n to be called with %1 as this but was called with %t"),mirrorPropAsAssertion("alwaysCalledOn","expected %n to always be called with %1 as this but was called with %t"),mirrorPropAsAssertion("calledWithNew","expected %n to be called with new"),mirrorPropAsAssertion("alwaysCalledWithNew","expected %n to always be called with new"),mirrorPropAsAssertion("calledWith","expected %n to be called with arguments %*%C"),mirrorPropAsAssertion("calledWithMatch","expected %n to be called with match %*%C"),mirrorPropAsAssertion("alwaysCalledWith","expected %n to always be called with arguments %*%C"),mirrorPropAsAssertion("alwaysCalledWithMatch","expected %n to always be called with match %*%C"),mirrorPropAsAssertion("calledWithExactly","expected %n to be called with exact arguments %*%C"),mirrorPropAsAssertion("alwaysCalledWithExactly","expected %n to always be called with exact arguments %*%C"),mirrorPropAsAssertion("neverCalledWith","expected %n to never be called with arguments %*%C"),mirrorPropAsAssertion("neverCalledWithMatch","expected %n to never be called with match %*%C"),mirrorPropAsAssertion("threw","%n did not throw exception%C"),mirrorPropAsAssertion("alwaysThrew","%n did not always throw exception%C"),sinon.assert=assert,assert}function loadDependencies(require,exports,module){var sinon=require("./util/core");require("./match"),require("./format"),module.exports=makeApi(sinon)}var slice=Array.prototype.slice,isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon,"undefined"!=typeof global?global:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./format":51,"./match":53,"./util/core":62}],47:[function(require,module,exports){(function(process){!function(sinonGlobal){"use strict";function throwsException(error,message){return"string"==typeof error?(this.exception=new Error(message||""),this.exception.name=error):error?this.exception=error:this.exception=new Error("Error"),this}function getCallback(behavior,args){var callArgAt=behavior.callArgAt;if(callArgAt>=0)return args[callArgAt];var argumentList;callArgAt===useLeftMostCallback&&(argumentList=args),callArgAt===useRightMostCallback&&(argumentList=slice.call(args).reverse());for(var callArgProp=behavior.callArgProp,i=0,l=argumentList.length;i<l;++i){if(!callArgProp&&"function"==typeof argumentList[i])return argumentList[i];if(callArgProp&&argumentList[i]&&"function"==typeof argumentList[i][callArgProp])return argumentList[i][callArgProp]}return null}function makeApi(sinon){function getCallbackError(behavior,func,args){if(behavior.callArgAt<0){var msg;return msg=behavior.callArgProp?sinon.functionName(behavior.stub)+" expected to yield to '"+behavior.callArgProp+"', but no object with such a property was passed.":sinon.functionName(behavior.stub)+" expected to yield, but no callback was passed.",args.length>0&&(msg+=" Received ["+join.call(args,", ")+"]"),msg}return"argument at index "+behavior.callArgAt+" is not a function: "+func}function callCallback(behavior,args){if("number"==typeof behavior.callArgAt){var func=getCallback(behavior,args);if("function"!=typeof func)throw new TypeError(getCallbackError(behavior,func,args));behavior.callbackAsync?nextTick(function(){func.apply(behavior.callbackContext,behavior.callbackArguments)}):func.apply(behavior.callbackContext,behavior.callbackArguments)}}function createAsyncVersion(syncFnName){return function(){var result=this[syncFnName].apply(this,arguments);return this.callbackAsync=!0,result}}var proto={create:function(stub){var behavior=sinon.extend({},sinon.behavior);return delete behavior.create,behavior.stub=stub,behavior},isPresent:function(){return"number"==typeof this.callArgAt||this.exception||"number"==typeof this.returnArgAt||this.returnThis||this.returnValueDefined},invoke:function(context,args){if(callCallback(this,args),this.exception)throw this.exception;return"number"==typeof this.returnArgAt?args[this.returnArgAt]:this.returnThis?context:this.returnValue},onCall:function(index){return this.stub.onCall(index)},onFirstCall:function(){return this.stub.onFirstCall()},onSecondCall:function(){return this.stub.onSecondCall()},onThirdCall:function(){return this.stub.onThirdCall()},withArgs:function(){throw new Error('Defining a stub by invoking "stub.onCall(...).withArgs(...)" is not supported. Use "stub.withArgs(...).onCall(...)" to define sequential behavior for calls with certain arguments.')},callsArg:function(pos){if("number"!=typeof pos)throw new TypeError("argument index is not number");return this.callArgAt=pos,this.callbackArguments=[],this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},callsArgOn:function(pos,context){if("number"!=typeof pos)throw new TypeError("argument index is not number");if("object"!=typeof context)throw new TypeError("argument context is not an object");return this.callArgAt=pos,this.callbackArguments=[],this.callbackContext=context,this.callArgProp=void 0,this.callbackAsync=!1,this},callsArgWith:function(pos){if("number"!=typeof pos)throw new TypeError("argument index is not number");return this.callArgAt=pos,this.callbackArguments=slice.call(arguments,1),this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},callsArgOnWith:function(pos,context){if("number"!=typeof pos)throw new TypeError("argument index is not number");if("object"!=typeof context)throw new TypeError("argument context is not an object");return this.callArgAt=pos,this.callbackArguments=slice.call(arguments,2),this.callbackContext=context,this.callArgProp=void 0,this.callbackAsync=!1,this},yields:function(){return this.callArgAt=useLeftMostCallback,this.callbackArguments=slice.call(arguments,0),this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},yieldsRight:function(){return this.callArgAt=useRightMostCallback,this.callbackArguments=slice.call(arguments,0),this.callbackContext=void 0,this.callArgProp=void 0,this.callbackAsync=!1,this},yieldsOn:function(context){if("object"!=typeof context)throw new TypeError("argument context is not an object");return this.callArgAt=useLeftMostCallback,this.callbackArguments=slice.call(arguments,1),this.callbackContext=context,this.callArgProp=void 0,this.callbackAsync=!1,this},yieldsTo:function(prop){return this.callArgAt=useLeftMostCallback,this.callbackArguments=slice.call(arguments,1),this.callbackContext=void 0,this.callArgProp=prop,this.callbackAsync=!1,this},yieldsToOn:function(prop,context){if("object"!=typeof context)throw new TypeError("argument context is not an object");return this.callArgAt=useLeftMostCallback,this.callbackArguments=slice.call(arguments,2),this.callbackContext=context,this.callArgProp=prop,this.callbackAsync=!1,this},"throws":throwsException,throwsException:throwsException,returns:function(value){return this.returnValue=value,this.returnValueDefined=!0,this.exception=void 0,this},returnsArg:function(pos){if("number"!=typeof pos)throw new TypeError("argument index is not number");return this.returnArgAt=pos,this},returnsThis:function(){return this.returnThis=!0,this}};for(var method in proto)proto.hasOwnProperty(method)&&method.match(/^(callsArg|yields)/)&&!method.match(/Async/)&&(proto[method+"Async"]=createAsyncVersion(method));return sinon.behavior=proto,proto}function loadDependencies(require,exports,module){var sinon=require("./util/core");require("./extend"),module.exports=makeApi(sinon)}var slice=Array.prototype.slice,join=Array.prototype.join,useLeftMostCallback=-1,useRightMostCallback=-2,nextTick=function(){return"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:"function"==typeof setImmediate?setImmediate:function(callback){setTimeout(callback,0)}}(),isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)}).call(this,require("_process"))},{"./extend":50,"./util/core":62,_process:6}],48:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function throwYieldError(proxy,text,args){var msg=sinon.functionName(proxy)+text;throw args.length&&(msg+=" Received ["+slice.call(args).join(", ")+"]"),new Error(msg)}function createSpyCall(spy,thisValue,args,returnValue,exception,id,stack){if("number"!=typeof id)throw new TypeError("Call id is not a number");var proxyCall=sinon.create(callProto);return proxyCall.proxy=spy,proxyCall.thisValue=thisValue,proxyCall.args=args,proxyCall.returnValue=returnValue,proxyCall.exception=exception,proxyCall.callId=id,proxyCall.stack=stack,proxyCall}var callProto={calledOn:function(thisValue){return sinon.match&&sinon.match.isMatcher(thisValue)?thisValue.test(this.thisValue):this.thisValue===thisValue},calledWith:function(){var l=arguments.length;if(l>this.args.length)return!1;for(var i=0;i<l;i+=1)if(!sinon.deepEqual(arguments[i],this.args[i]))return!1;return!0},calledWithMatch:function(){var l=arguments.length;if(l>this.args.length)return!1;for(var i=0;i<l;i+=1){var actual=this.args[i],expectation=arguments[i];if(!sinon.match||!sinon.match(expectation).test(actual))return!1}return!0},calledWithExactly:function(){return arguments.length===this.args.length&&this.calledWith.apply(this,arguments)},notCalledWith:function(){return!this.calledWith.apply(this,arguments)},notCalledWithMatch:function(){return!this.calledWithMatch.apply(this,arguments)},returned:function(value){return sinon.deepEqual(value,this.returnValue)},threw:function(error){return"undefined"!=typeof error&&this.exception?this.exception===error||this.exception.name===error:!!this.exception},calledWithNew:function(){return this.proxy.prototype&&this.thisValue instanceof this.proxy},calledBefore:function(other){return this.callId<other.callId},calledAfter:function(other){return this.callId>other.callId},callArg:function(pos){this.args[pos]()},callArgOn:function(pos,thisValue){this.args[pos].apply(thisValue)},callArgWith:function(pos){this.callArgOnWith.apply(this,[pos,null].concat(slice.call(arguments,1)))},callArgOnWith:function(pos,thisValue){var args=slice.call(arguments,2);this.args[pos].apply(thisValue,args)},"yield":function(){this.yieldOn.apply(this,[null].concat(slice.call(arguments,0)))},yieldOn:function(thisValue){for(var args=this.args,i=0,l=args.length;i<l;++i)if("function"==typeof args[i])return void args[i].apply(thisValue,slice.call(arguments,1));throwYieldError(this.proxy," cannot yield since no callback was passed.",args)},yieldTo:function(prop){this.yieldToOn.apply(this,[prop,null].concat(slice.call(arguments,1)))},yieldToOn:function(prop,thisValue){for(var args=this.args,i=0,l=args.length;i<l;++i)if(args[i]&&"function"==typeof args[i][prop])return void args[i][prop].apply(thisValue,slice.call(arguments,2));throwYieldError(this.proxy," cannot yield to '"+prop+"' since no callback was passed.",args)},getStackFrames:function(){return this.stack&&this.stack.split("\n").slice(3)},toString:function(){var callStr=this.proxy?this.proxy.toString()+"(":"",args=[];if(!this.args)return":(";for(var i=0,l=this.args.length;i<l;++i)args.push(sinon.format(this.args[i]));return callStr=callStr+args.join(", ")+")","undefined"!=typeof this.returnValue&&(callStr+=" => "+sinon.format(this.returnValue)),this.exception&&(callStr+=" !"+this.exception.name,this.exception.message&&(callStr+="("+this.exception.message+")")),this.stack&&(callStr+=this.getStackFrames()[0].replace(/^\s*(?:at\s+|@)?/," at ")),callStr}};return callProto.invokeCallback=callProto["yield"],createSpyCall.toString=callProto.toString,sinon.spyCall=createSpyCall,createSpyCall}function loadDependencies(require,exports,module){var sinon=require("./util/core");require("./match"),require("./format"),module.exports=makeApi(sinon)}var slice=Array.prototype.slice,isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./format":51,"./match":53,"./util/core":62}],49:[function(require,module,exports){!function(sinonGlobal){"use strict";function getFakes(fakeCollection){return fakeCollection.fakes||(fakeCollection.fakes=[]),fakeCollection.fakes}function each(fakeCollection,method){for(var fakes=getFakes(fakeCollection),i=0,l=fakes.length;i<l;i+=1)"function"==typeof fakes[i][method]&&fakes[i][method]()}function compact(fakeCollection){for(var fakes=getFakes(fakeCollection),i=0;i<fakes.length;)fakes.splice(i,1)}function makeApi(sinon){var collection={verify:function(){each(this,"verify")},restore:function(){each(this,"restore"),compact(this)},reset:function(){each(this,"reset")},verifyAndRestore:function(){var exception;try{this.verify()}catch(e){exception=e}if(this.restore(),exception)throw exception},add:function(fake){return push.call(getFakes(this),fake),fake},spy:function(){return this.add(sinon.spy.apply(sinon,arguments))},stub:function(object,property,value){if(property){var original=object[property];if("function"!=typeof original){if(!hasOwnProperty.call(object,property))throw new TypeError("Cannot stub non-existent own property "+property);return object[property]=value,this.add({restore:function(){object[property]=original}})}}if(!property&&object&&"object"==typeof object){var stubbedObj=sinon.stub.apply(sinon,arguments);for(var prop in stubbedObj)"function"==typeof stubbedObj[prop]&&this.add(stubbedObj[prop]);return stubbedObj}return this.add(sinon.stub.apply(sinon,arguments))},mock:function(){return this.add(sinon.mock.apply(sinon,arguments))},inject:function(obj){var col=this;return obj.spy=function(){return col.spy.apply(col,arguments)},obj.stub=function(){return col.stub.apply(col,arguments)},obj.mock=function(){return col.mock.apply(col,arguments)},obj}};return sinon.collection=collection,collection}function loadDependencies(require,exports,module){var sinon=require("./util/core");require("./mock"),require("./spy"),require("./stub"),module.exports=makeApi(sinon)}var push=[].push,hasOwnProperty=Object.prototype.hasOwnProperty,isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./mock":54,"./spy":56,"./stub":57,"./util/core":62}],50:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function extend(target){var source,i,prop,sources=Array.prototype.slice.call(arguments,1);for(i=0;i<sources.length;i++){source=sources[i];for(prop in source)source.hasOwnProperty(prop)&&(target[prop]=source[prop]);hasDontEnumBug&&source.hasOwnProperty("toString")&&source.toString!==target.toString&&(target.toString=source.toString)}return target}var hasDontEnumBug=function(){var obj={constructor:function(){return"0"},toString:function(){return"1"},valueOf:function(){return"2"},toLocaleString:function(){return"3"},prototype:function(){return"4"},isPrototypeOf:function(){return"5"},propertyIsEnumerable:function(){return"6"},hasOwnProperty:function(){return"7"},length:function(){return"8"},unique:function(){return"9"}},result=[];for(var prop in obj)obj.hasOwnProperty(prop)&&result.push(obj[prop]());return"0123456789"!==result.join("")}();return sinon.extend=extend,sinon.extend}function loadDependencies(require,exports,module){var sinon=require("./util/core");module.exports=makeApi(sinon)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./util/core":62}],51:[function(require,module,exports){!function(sinonGlobal,formatio){"use strict";function makeApi(sinon){function valueFormatter(value){return""+value}function getFormatioFormatter(){function format(){return formatter.ascii.apply(formatter,arguments)}var formatter=formatio.configure({quoteStrings:!1,limitChildrenCount:250});return format}function getNodeFormatter(){function format(v){var isObjectWithNativeToString="object"==typeof v&&v.toString===Object.prototype.toString;return isObjectWithNativeToString?util.inspect(v):v}try{var util=require("util")}catch(e){}return util?format:valueFormatter}var formatter,isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require;if(isNode)try{formatio=require("formatio")}catch(e){}return formatter=formatio?getFormatioFormatter():isNode?getNodeFormatter():valueFormatter,sinon.format=formatter,sinon.format}function loadDependencies(require,exports,module){var sinon=require("./util/core");module.exports=makeApi(sinon)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon,"object"==typeof formatio&&formatio)},{"./util/core":62,formatio:70,util:8}],52:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function log(){}function logError(label,err){function throwLoggedError(){throw err.message=msg+err.message,err}var msg=label+" threw exception: ";sinon.log(msg+"["+err.name+"] "+err.message),err.stack&&sinon.log(err.stack),logError.useImmediateExceptions?throwLoggedError():logError.setTimeout(throwLoggedError,0)}logError.useImmediateExceptions=!1,logError.setTimeout=function(func,timeout){realSetTimeout(func,timeout)};var exports={};return exports.log=sinon.log=log,exports.logError=sinon.logError=logError,exports}function loadDependencies(require,exports,module){var sinon=require("./util/core");module.exports=makeApi(sinon)}var realSetTimeout=setTimeout,isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./util/core":62}],53:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function assertType(value,type,name){var actual=sinon.typeOf(value);if(actual!==type)throw new TypeError("Expected type of "+name+" to be "+type+", but was "+actual)}function isMatcher(object){return matcher.isPrototypeOf(object)}function matchObject(expectation,actual){if(null===actual||void 0===actual)return!1;for(var key in expectation)if(expectation.hasOwnProperty(key)){var exp=expectation[key],act=actual[key];if(isMatcher(exp)){if(!exp.test(act))return!1}else if("object"===sinon.typeOf(exp)){if(!matchObject(exp,act))return!1}else if(!sinon.deepEqual(exp,act))return!1}return!0}function match(expectation,message){var m=sinon.create(matcher),type=sinon.typeOf(expectation);switch(type){case"object":if("function"==typeof expectation.test)return m.test=function(actual){return expectation.test(actual)===!0},m.message="match("+sinon.functionName(expectation.test)+")",m;var str=[];for(var key in expectation)expectation.hasOwnProperty(key)&&str.push(key+": "+expectation[key]);m.test=function(actual){return matchObject(expectation,actual)},m.message="match("+str.join(", ")+")";break;case"number":m.test=function(actual){return expectation==actual};break;case"string":m.test=function(actual){return"string"==typeof actual&&actual.indexOf(expectation)!==-1},m.message='match("'+expectation+'")';break;case"regexp":m.test=function(actual){return"string"==typeof actual&&expectation.test(actual)};break;case"function":m.test=expectation,message?m.message=message:m.message="match("+sinon.functionName(expectation)+")";break;default:m.test=function(actual){return sinon.deepEqual(expectation,actual)}}return m.message||(m.message="match("+expectation+")"),m}function createPropertyMatcher(propertyTest,messagePrefix){return function(property,value){assertType(property,"string","property");var onlyProperty=1===arguments.length,message=messagePrefix+'("'+property+'"';return onlyProperty||(message+=", "+value),message+=")",match(function(actual){return!(void 0===actual||null===actual||!propertyTest(actual,property))&&(onlyProperty||sinon.deepEqual(value,actual[property]))},message)}}var matcher={toString:function(){return this.message}};return matcher.or=function(m2){if(!arguments.length)throw new TypeError("Matcher expected");isMatcher(m2)||(m2=match(m2));var m1=this,or=sinon.create(matcher);return or.test=function(actual){return m1.test(actual)||m2.test(actual)},or.message=m1.message+".or("+m2.message+")",or},matcher.and=function(m2){if(!arguments.length)throw new TypeError("Matcher expected");isMatcher(m2)||(m2=match(m2));var m1=this,and=sinon.create(matcher);return and.test=function(actual){return m1.test(actual)&&m2.test(actual)},and.message=m1.message+".and("+m2.message+")",and},match.isMatcher=isMatcher,match.any=match(function(){return!0},"any"),match.defined=match(function(actual){return null!==actual&&void 0!==actual},"defined"),match.truthy=match(function(actual){return!!actual},"truthy"),match.falsy=match(function(actual){return!actual},"falsy"),match.same=function(expectation){return match(function(actual){return expectation===actual},"same("+expectation+")")},match.typeOf=function(type){return assertType(type,"string","type"),match(function(actual){return sinon.typeOf(actual)===type},'typeOf("'+type+'")')},match.instanceOf=function(type){return assertType(type,"function","type"),match(function(actual){return actual instanceof type},"instanceOf("+sinon.functionName(type)+")")},match.has=createPropertyMatcher(function(actual,property){return"object"==typeof actual?property in actual:void 0!==actual[property]},"has"),match.hasOwn=createPropertyMatcher(function(actual,property){return actual.hasOwnProperty(property)},"hasOwn"),match.bool=match.typeOf("boolean"),match.number=match.typeOf("number"),match.string=match.typeOf("string"),match.object=match.typeOf("object"),match.func=match.typeOf("function"),match.array=match.typeOf("array"),match.regexp=match.typeOf("regexp"),match.date=match.typeOf("date"),sinon.match=match,match}function loadDependencies(require,exports,module){var sinon=require("./util/core");require("./typeOf"),module.exports=makeApi(sinon)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./typeOf":61,"./util/core":62}],54:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function mock(object){return object?mock.create(object):sinon.expectation.create("Anonymous mock")}function each(collection,callback){if(collection)for(var i=0,l=collection.length;i<l;i+=1)callback(collection[i])}function arrayEquals(arr1,arr2,compareLength){if(compareLength&&arr1.length!==arr2.length)return!1;for(var i=0,l=arr1.length;i<l;i++)if(!sinon.deepEqual(arr1[i],arr2[i]))return!1;return!0}function callCountInWords(callCount){return 0===callCount?"never called":"called "+times(callCount)}function expectedCallCountInWords(expectation){var min=expectation.minCalls,max=expectation.maxCalls;if("number"==typeof min&&"number"==typeof max){var str=times(min);return min!==max&&(str="at least "+str+" and at most "+times(max)),str}return"number"==typeof min?"at least "+times(min):"at most "+times(max)}function receivedMinCalls(expectation){var hasMinLimit="number"==typeof expectation.minCalls;return!hasMinLimit||expectation.callCount>=expectation.minCalls}function receivedMaxCalls(expectation){return"number"==typeof expectation.maxCalls&&expectation.callCount===expectation.maxCalls}function verifyMatcher(possibleMatcher,arg){var isMatcher=match&&match.isMatcher(possibleMatcher);return isMatcher&&possibleMatcher.test(arg)||!0}var push=[].push,match=sinon.match;sinon.extend(mock,{create:function(object){if(!object)throw new TypeError("object is null");var mockObject=sinon.extend({},mock);return mockObject.object=object,delete mockObject.create,mockObject},expects:function(method){if(!method)throw new TypeError("method is falsy");if(this.expectations||(this.expectations={},this.proxies=[]),!this.expectations[method]){this.expectations[method]=[];var mockObject=this;sinon.wrapMethod(this.object,method,function(){return mockObject.invokeMethod(method,this,arguments)}),push.call(this.proxies,method)}var expectation=sinon.expectation.create(method);return push.call(this.expectations[method],expectation),expectation},restore:function(){var object=this.object;each(this.proxies,function(proxy){"function"==typeof object[proxy].restore&&object[proxy].restore();
})},verify:function(){var expectations=this.expectations||{},messages=[],met=[];return each(this.proxies,function(proxy){each(expectations[proxy],function(expectation){expectation.met()?push.call(met,expectation.toString()):push.call(messages,expectation.toString())})}),this.restore(),messages.length>0?sinon.expectation.fail(messages.concat(met).join("\n")):met.length>0&&sinon.expectation.pass(messages.concat(met).join("\n")),!0},invokeMethod:function(method,thisValue,args){var i,available,expectations=this.expectations&&this.expectations[method]?this.expectations[method]:[],expectationsWithMatchingArgs=[],currentArgs=args||[];for(i=0;i<expectations.length;i+=1){var expectedArgs=expectations[i].expectedArguments||[];arrayEquals(expectedArgs,currentArgs,expectations[i].expectsExactArgCount)&&expectationsWithMatchingArgs.push(expectations[i])}for(i=0;i<expectationsWithMatchingArgs.length;i+=1)if(!expectationsWithMatchingArgs[i].met()&&expectationsWithMatchingArgs[i].allowsCall(thisValue,args))return expectationsWithMatchingArgs[i].apply(thisValue,args);var messages=[],exhausted=0;for(i=0;i<expectationsWithMatchingArgs.length;i+=1)expectationsWithMatchingArgs[i].allowsCall(thisValue,args)?available=available||expectationsWithMatchingArgs[i]:exhausted+=1;if(available&&0===exhausted)return available.apply(thisValue,args);for(i=0;i<expectations.length;i+=1)push.call(messages,"    "+expectations[i].toString());messages.unshift("Unexpected call: "+sinon.spyCall.toString.call({proxy:method,args:args})),sinon.expectation.fail(messages.join("\n"))}});var times=sinon.timesInWords,slice=Array.prototype.slice;return sinon.expectation={minCalls:1,maxCalls:1,create:function(methodName){var expectation=sinon.extend(sinon.stub.create(),sinon.expectation);return delete expectation.create,expectation.method=methodName,expectation},invoke:function(func,thisValue,args){return this.verifyCallAllowed(thisValue,args),sinon.spy.invoke.apply(this,arguments)},atLeast:function(num){if("number"!=typeof num)throw new TypeError("'"+num+"' is not number");return this.limitsSet||(this.maxCalls=null,this.limitsSet=!0),this.minCalls=num,this},atMost:function(num){if("number"!=typeof num)throw new TypeError("'"+num+"' is not number");return this.limitsSet||(this.minCalls=null,this.limitsSet=!0),this.maxCalls=num,this},never:function(){return this.exactly(0)},once:function(){return this.exactly(1)},twice:function(){return this.exactly(2)},thrice:function(){return this.exactly(3)},exactly:function(num){if("number"!=typeof num)throw new TypeError("'"+num+"' is not a number");return this.atLeast(num),this.atMost(num)},met:function(){return!this.failed&&receivedMinCalls(this)},verifyCallAllowed:function(thisValue,args){if(receivedMaxCalls(this)&&(this.failed=!0,sinon.expectation.fail(this.method+" already called "+times(this.maxCalls))),"expectedThis"in this&&this.expectedThis!==thisValue&&sinon.expectation.fail(this.method+" called with "+thisValue+" as thisValue, expected "+this.expectedThis),"expectedArguments"in this){args||sinon.expectation.fail(this.method+" received no arguments, expected "+sinon.format(this.expectedArguments)),args.length<this.expectedArguments.length&&sinon.expectation.fail(this.method+" received too few arguments ("+sinon.format(args)+"), expected "+sinon.format(this.expectedArguments)),this.expectsExactArgCount&&args.length!==this.expectedArguments.length&&sinon.expectation.fail(this.method+" received too many arguments ("+sinon.format(args)+"), expected "+sinon.format(this.expectedArguments));for(var i=0,l=this.expectedArguments.length;i<l;i+=1)verifyMatcher(this.expectedArguments[i],args[i])||sinon.expectation.fail(this.method+" received wrong arguments "+sinon.format(args)+", didn't match "+this.expectedArguments.toString()),sinon.deepEqual(this.expectedArguments[i],args[i])||sinon.expectation.fail(this.method+" received wrong arguments "+sinon.format(args)+", expected "+sinon.format(this.expectedArguments))}},allowsCall:function(thisValue,args){if(this.met()&&receivedMaxCalls(this))return!1;if("expectedThis"in this&&this.expectedThis!==thisValue)return!1;if(!("expectedArguments"in this))return!0;if(args=args||[],args.length<this.expectedArguments.length)return!1;if(this.expectsExactArgCount&&args.length!==this.expectedArguments.length)return!1;for(var i=0,l=this.expectedArguments.length;i<l;i+=1){if(!verifyMatcher(this.expectedArguments[i],args[i]))return!1;if(!sinon.deepEqual(this.expectedArguments[i],args[i]))return!1}return!0},withArgs:function(){return this.expectedArguments=slice.call(arguments),this},withExactArgs:function(){return this.withArgs.apply(this,arguments),this.expectsExactArgCount=!0,this},on:function(thisValue){return this.expectedThis=thisValue,this},toString:function(){var args=(this.expectedArguments||[]).slice();this.expectsExactArgCount||push.call(args,"[...]");var callStr=sinon.spyCall.toString.call({proxy:this.method||"anonymous mock expectation",args:args}),message=callStr.replace(", [...","[, ...")+" "+expectedCallCountInWords(this);return this.met()?"Expectation met: "+message:"Expected "+message+" ("+callCountInWords(this.callCount)+")"},verify:function(){return this.met()?sinon.expectation.pass(this.toString()):sinon.expectation.fail(this.toString()),!0},pass:function(message){sinon.assert.pass(message)},fail:function(message){var exception=new Error(message);throw exception.name="ExpectationError",exception}},sinon.mock=mock,mock}function loadDependencies(require,exports,module){var sinon=require("./util/core");require("./times_in_words"),require("./call"),require("./extend"),require("./match"),require("./spy"),require("./stub"),require("./format"),module.exports=makeApi(sinon)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./call":48,"./extend":50,"./format":51,"./match":53,"./spy":56,"./stub":57,"./times_in_words":60,"./util/core":62}],55:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function exposeValue(sandbox,config,key,value){value&&(!config.injectInto||key in config.injectInto?push.call(sandbox.args,value):(config.injectInto[key]=value,sandbox.injectedKeys.push(key)))}function prepareSandboxFromConfig(config){var sandbox=sinon.create(sinon.sandbox);return config.useFakeServer&&("object"==typeof config.useFakeServer&&(sandbox.serverPrototype=config.useFakeServer),sandbox.useFakeServer()),config.useFakeTimers&&("object"==typeof config.useFakeTimers?sandbox.useFakeTimers.apply(sandbox,config.useFakeTimers):sandbox.useFakeTimers()),sandbox}var push=[].push;return sinon.sandbox=sinon.extend(sinon.create(sinon.collection),{useFakeTimers:function(){return this.clock=sinon.useFakeTimers.apply(sinon,arguments),this.add(this.clock)},serverPrototype:sinon.fakeServer,useFakeServer:function(){var proto=this.serverPrototype||sinon.fakeServer;return proto&&proto.create?(this.server=proto.create(),this.add(this.server)):null},inject:function(obj){return sinon.collection.inject.call(this,obj),this.clock&&(obj.clock=this.clock),this.server&&(obj.server=this.server,obj.requests=this.server.requests),obj.match=sinon.match,obj},restore:function(){sinon.collection.restore.apply(this,arguments),this.restoreContext()},restoreContext:function(){if(this.injectedKeys){for(var i=0,j=this.injectedKeys.length;i<j;i++)delete this.injectInto[this.injectedKeys[i]];this.injectedKeys=[]}},create:function(config){if(!config)return sinon.create(sinon.sandbox);var sandbox=prepareSandboxFromConfig(config);sandbox.args=sandbox.args||[],sandbox.injectedKeys=[],sandbox.injectInto=config.injectInto;var prop,value,exposed=sandbox.inject({});if(config.properties)for(var i=0,l=config.properties.length;i<l;i++)prop=config.properties[i],value=exposed[prop]||"sandbox"===prop&&sandbox,exposeValue(sandbox,config,prop,value);else exposeValue(sandbox,config,"sandbox",value);return sandbox},match:sinon.match}),sinon.sandbox.useFakeXMLHttpRequest=sinon.sandbox.useFakeServer,sinon.sandbox}function loadDependencies(require,exports,module){var sinon=require("./util/core");require("./extend"),require("./util/fake_server_with_clock"),require("./util/fake_timers"),require("./collection"),module.exports=makeApi(sinon)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./collection":49,"./extend":50,"./util/core":62,"./util/fake_server_with_clock":65,"./util/fake_timers":66}],56:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function spy(object,property,types){if(!property&&"function"==typeof object)return spy.create(object);if(!object&&!property)return spy.create(function(){});if(types){for(var methodDesc=sinon.getPropertyDescriptor(object,property),i=0;i<types.length;i++)methodDesc[types[i]]=spy.create(methodDesc[types[i]]);return sinon.wrapMethod(object,property,methodDesc)}return sinon.wrapMethod(object,property,spy.create(object[property]))}function matchingFake(fakes,args,strict){if(fakes)for(var i=0,l=fakes.length;i<l;i++)if(fakes[i].matches(args,strict))return fakes[i]}function incrementCallCount(){this.called=!0,this.callCount+=1,this.notCalled=!1,this.calledOnce=1===this.callCount,this.calledTwice=2===this.callCount,this.calledThrice=3===this.callCount}function createCallProperties(){this.firstCall=this.getCall(0),this.secondCall=this.getCall(1),this.thirdCall=this.getCall(2),this.lastCall=this.getCall(this.callCount-1)}function createProxy(func,proxyLength){var p;return proxyLength?eval("p = (function proxy("+vars.substring(0,2*proxyLength-1)+") { return p.invoke(func, this, slice.call(arguments)); });"):p=function(){return p.invoke(func,this,slice.call(arguments))},p.isSinonProxy=!0,p}function delegateToCalls(method,matchAny,actual,notCalled){spyApi[method]=function(){if(!this.called)return!!notCalled&&notCalled.apply(this,arguments);for(var currentCall,matches=0,i=0,l=this.callCount;i<l;i+=1)if(currentCall=this.getCall(i),currentCall[actual||method].apply(currentCall,arguments)&&(matches+=1,matchAny))return!0;return matches===this.callCount}}var push=Array.prototype.push,slice=Array.prototype.slice,callId=0,vars="a,b,c,d,e,f,g,h,i,j,k,l",uuid=0,spyApi={reset:function(){if(this.invoking){var err=new Error("Cannot reset Sinon function while invoking it. Move the call to .reset outside of the callback.");throw err.name="InvalidResetException",err}if(this.called=!1,this.notCalled=!0,this.calledOnce=!1,this.calledTwice=!1,this.calledThrice=!1,this.callCount=0,this.firstCall=null,this.secondCall=null,this.thirdCall=null,this.lastCall=null,this.args=[],this.returnValues=[],this.thisValues=[],this.exceptions=[],this.callIds=[],this.stacks=[],this.fakes)for(var i=0;i<this.fakes.length;i++)this.fakes[i].reset();return this},create:function(func,spyLength){var name;"function"!=typeof func?func=function(){}:name=sinon.functionName(func),spyLength||(spyLength=func.length);var proxy=createProxy(func,spyLength);return sinon.extend(proxy,spy),delete proxy.create,sinon.extend(proxy,func),proxy.reset(),proxy.prototype=func.prototype,proxy.displayName=name||"spy",proxy.toString=sinon.functionToString,proxy.instantiateFake=sinon.spy.create,proxy.id="spy#"+uuid++,proxy},invoke:function(func,thisValue,args){var exception,returnValue,matching=matchingFake(this.fakes,args);incrementCallCount.call(this),push.call(this.thisValues,thisValue),push.call(this.args,args),push.call(this.callIds,callId++),createCallProperties.call(this);try{this.invoking=!0,returnValue=matching?matching.invoke(func,thisValue,args):(this.func||func).apply(thisValue,args);var thisCall=this.getCall(this.callCount-1);thisCall.calledWithNew()&&"object"!=typeof returnValue&&(returnValue=thisValue)}catch(e){exception=e}finally{delete this.invoking}if(push.call(this.exceptions,exception),push.call(this.returnValues,returnValue),push.call(this.stacks,(new Error).stack),createCallProperties.call(this),void 0!==exception)throw exception;return returnValue},named:function(name){return this.displayName=name,this},getCall:function(i){return i<0||i>=this.callCount?null:sinon.spyCall(this,this.thisValues[i],this.args[i],this.returnValues[i],this.exceptions[i],this.callIds[i],this.stacks[i])},getCalls:function(){var i,calls=[];for(i=0;i<this.callCount;i++)calls.push(this.getCall(i));return calls},calledBefore:function(spyFn){return!!this.called&&(!spyFn.called||this.callIds[0]<spyFn.callIds[spyFn.callIds.length-1])},calledAfter:function(spyFn){return!(!this.called||!spyFn.called)&&this.callIds[this.callCount-1]>spyFn.callIds[spyFn.callCount-1]},withArgs:function(){var args=slice.call(arguments);if(this.fakes){var match=matchingFake(this.fakes,args,!0);if(match)return match}else this.fakes=[];var original=this,fake=this.instantiateFake();fake.matchingAguments=args,fake.parent=this,push.call(this.fakes,fake),fake.withArgs=function(){return original.withArgs.apply(original,arguments)};for(var i=0;i<this.args.length;i++)fake.matches(this.args[i])&&(incrementCallCount.call(fake),push.call(fake.thisValues,this.thisValues[i]),push.call(fake.args,this.args[i]),push.call(fake.returnValues,this.returnValues[i]),push.call(fake.exceptions,this.exceptions[i]),push.call(fake.callIds,this.callIds[i]));return createCallProperties.call(fake),fake},matches:function(args,strict){var margs=this.matchingAguments;if(margs.length<=args.length&&sinon.deepEqual(margs,args.slice(0,margs.length)))return!strict||margs.length===args.length},printf:function(format){var formatter,spyInstance=this,args=slice.call(arguments,1);return(format||"").replace(/%(.)/g,function(match,specifyer){return formatter=spyApi.formatters[specifyer],"function"==typeof formatter?formatter.call(null,spyInstance,args):isNaN(parseInt(specifyer,10))?"%"+specifyer:sinon.format(args[specifyer-1])})}};return delegateToCalls("calledOn",!0),delegateToCalls("alwaysCalledOn",!1,"calledOn"),delegateToCalls("calledWith",!0),delegateToCalls("calledWithMatch",!0),delegateToCalls("alwaysCalledWith",!1,"calledWith"),delegateToCalls("alwaysCalledWithMatch",!1,"calledWithMatch"),delegateToCalls("calledWithExactly",!0),delegateToCalls("alwaysCalledWithExactly",!1,"calledWithExactly"),delegateToCalls("neverCalledWith",!1,"notCalledWith",function(){return!0}),delegateToCalls("neverCalledWithMatch",!1,"notCalledWithMatch",function(){return!0}),delegateToCalls("threw",!0),delegateToCalls("alwaysThrew",!1,"threw"),delegateToCalls("returned",!0),delegateToCalls("alwaysReturned",!1,"returned"),delegateToCalls("calledWithNew",!0),delegateToCalls("alwaysCalledWithNew",!1,"calledWithNew"),delegateToCalls("callArg",!1,"callArgWith",function(){throw new Error(this.toString()+" cannot call arg since it was not yet invoked.")}),spyApi.callArgWith=spyApi.callArg,delegateToCalls("callArgOn",!1,"callArgOnWith",function(){throw new Error(this.toString()+" cannot call arg since it was not yet invoked.")}),spyApi.callArgOnWith=spyApi.callArgOn,delegateToCalls("yield",!1,"yield",function(){throw new Error(this.toString()+" cannot yield since it was not yet invoked.")}),spyApi.invokeCallback=spyApi["yield"],delegateToCalls("yieldOn",!1,"yieldOn",function(){throw new Error(this.toString()+" cannot yield since it was not yet invoked.")}),delegateToCalls("yieldTo",!1,"yieldTo",function(property){throw new Error(this.toString()+" cannot yield to '"+property+"' since it was not yet invoked.")}),delegateToCalls("yieldToOn",!1,"yieldToOn",function(property){throw new Error(this.toString()+" cannot yield to '"+property+"' since it was not yet invoked.")}),spyApi.formatters={c:function(spyInstance){return sinon.timesInWords(spyInstance.callCount)},n:function(spyInstance){return spyInstance.toString()},C:function(spyInstance){for(var calls=[],i=0,l=spyInstance.callCount;i<l;++i){var stringifiedCall="    "+spyInstance.getCall(i).toString();/\n/.test(calls[i-1])&&(stringifiedCall="\n"+stringifiedCall),push.call(calls,stringifiedCall)}return calls.length>0?"\n"+calls.join("\n"):""},t:function(spyInstance){for(var objects=[],i=0,l=spyInstance.callCount;i<l;++i)push.call(objects,sinon.format(spyInstance.thisValues[i]));return objects.join(", ")},"*":function(spyInstance,args){for(var formatted=[],i=0,l=args.length;i<l;++i)push.call(formatted,sinon.format(args[i]));return formatted.join(", ")}},sinon.extend(spy,spyApi),spy.spyCall=sinon.spyCall,sinon.spy=spy,spy}function loadDependencies(require,exports,module){var core=require("./util/core");require("./call"),require("./extend"),require("./times_in_words"),require("./format"),module.exports=makeApi(core)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./call":48,"./extend":50,"./format":51,"./times_in_words":60,"./util/core":62}],57:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function stub(object,property,func){if(func&&"function"!=typeof func&&"object"!=typeof func)throw new TypeError("Custom stub should be a function or a property descriptor");var wrapper;if(func){if("function"==typeof func)wrapper=sinon.spy&&sinon.spy.create?sinon.spy.create(func):func;else if(wrapper=func,sinon.spy&&sinon.spy.create)for(var types=sinon.objectKeys(wrapper),i=0;i<types.length;i++)wrapper[types[i]]=sinon.spy.create(wrapper[types[i]])}else{var stubLength=0;"object"==typeof object&&"function"==typeof object[property]&&(stubLength=object[property].length),wrapper=stub.create(stubLength)}return object||"undefined"!=typeof property?"undefined"==typeof property&&"object"==typeof object?(sinon.walk(object||{},function(value,prop,propOwner){propOwner!==Object.prototype&&"constructor"!==prop&&"function"==typeof sinon.getPropertyDescriptor(propOwner,prop).value&&stub(object,prop)}),object):sinon.wrapMethod(object,property,wrapper):sinon.stub.create()}function getParentBehaviour(stubInstance){return stubInstance.parent&&getCurrentBehavior(stubInstance.parent)}function getDefaultBehavior(stubInstance){return stubInstance.defaultBehavior||getParentBehaviour(stubInstance)||sinon.behavior.create(stubInstance)}function getCurrentBehavior(stubInstance){var behavior=stubInstance.behaviors[stubInstance.callCount-1];return behavior&&behavior.isPresent()?behavior:getDefaultBehavior(stubInstance)}function createBehavior(behaviorMethod){return function(){return this.defaultBehavior=this.defaultBehavior||sinon.behavior.create(this),this.defaultBehavior[behaviorMethod].apply(this.defaultBehavior,arguments),this}}var uuid=0,proto={create:function(stubLength){var functionStub=function(){return getCurrentBehavior(functionStub).invoke(this,arguments)};functionStub.id="stub#"+uuid++;var orig=functionStub;return functionStub=sinon.spy.create(functionStub,stubLength),functionStub.func=orig,sinon.extend(functionStub,stub),functionStub.instantiateFake=sinon.stub.create,functionStub.displayName="stub",functionStub.toString=sinon.functionToString,functionStub.defaultBehavior=null,functionStub.behaviors=[],functionStub},resetBehavior:function(){var i;if(this.defaultBehavior=null,this.behaviors=[],delete this.returnValue,delete this.returnArgAt,this.returnThis=!1,this.fakes)for(i=0;i<this.fakes.length;i++)this.fakes[i].resetBehavior()},onCall:function(index){return this.behaviors[index]||(this.behaviors[index]=sinon.behavior.create(this)),this.behaviors[index]},onFirstCall:function(){return this.onCall(0)},onSecondCall:function(){return this.onCall(1)},onThirdCall:function(){return this.onCall(2)}};for(var method in sinon.behavior)sinon.behavior.hasOwnProperty(method)&&!proto.hasOwnProperty(method)&&"create"!==method&&"withArgs"!==method&&"invoke"!==method&&(proto[method]=createBehavior(method));return sinon.extend(stub,proto),sinon.stub=stub,stub}function loadDependencies(require,exports,module){var core=require("./util/core");require("./behavior"),require("./spy"),require("./extend"),module.exports=makeApi(core)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./behavior":47,"./extend":50,"./spy":56,"./util/core":62}],58:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function test(callback){function sinonSandboxedTest(){var config=sinon.getConfig(sinon.config);config.injectInto=config.injectIntoThis&&this||config.injectInto;var exception,result,sandbox=sinon.sandbox.create(config),args=slice.call(arguments),oldDone=args.length&&args[args.length-1];"function"==typeof oldDone&&(args[args.length-1]=function(res){res?sandbox.restore():sandbox.verifyAndRestore(),oldDone(res)});try{result=callback.apply(this,args.concat(sandbox.args))}catch(e){exception=e}if("undefined"!=typeof exception)throw sandbox.restore(),exception;return"function"!=typeof oldDone&&sandbox.verifyAndRestore(),result}var type=typeof callback;if("function"!==type)throw new TypeError("sinon.test needs to wrap a test function, got "+type);return callback.length?function(done){return sinonSandboxedTest.apply(this,arguments)}:sinonSandboxedTest}var slice=Array.prototype.slice;return test.config={injectIntoThis:!0,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:!0,useFakeServer:!0},sinon.test=test,test}function loadDependencies(require,exports,module){var core=require("./util/core");require("./sandbox"),module.exports=makeApi(core)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;isAMD?define(loadDependencies):isNode?loadDependencies(require,module.exports,module):sinonGlobal&&makeApi(sinonGlobal)}("object"==typeof sinon&&sinon||null)},{"./sandbox":55,"./util/core":62}],59:[function(require,module,exports){!function(sinonGlobal){"use strict";function createTest(property,setUp,tearDown){return function(){setUp&&setUp.apply(this,arguments);var exception,result;try{result=property.apply(this,arguments)}catch(e){exception=e}if(tearDown&&tearDown.apply(this,arguments),exception)throw exception;return result}}function makeApi(sinon){function testCase(tests,prefix){if(!tests||"object"!=typeof tests)throw new TypeError("sinon.testCase needs an object with test functions");prefix=prefix||"test";var testName,property,method,rPrefix=new RegExp("^"+prefix),methods={},setUp=tests.setUp,tearDown=tests.tearDown;for(testName in tests)tests.hasOwnProperty(testName)&&!/^(setUp|tearDown)$/.test(testName)&&(property=tests[testName],"function"==typeof property&&rPrefix.test(testName)?(method=property,(setUp||tearDown)&&(method=createTest(property,setUp,tearDown)),methods[testName]=sinon.test(method)):methods[testName]=tests[testName]);return methods}return sinon.testCase=testCase,testCase}function loadDependencies(require,exports,module){var core=require("./util/core");require("./test"),module.exports=makeApi(core)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./test":58,"./util/core":62}],60:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function timesInWords(count){switch(count){case 1:return"once";case 2:return"twice";case 3:return"thrice";default:return(count||0)+" times"}}return sinon.timesInWords=timesInWords,sinon.timesInWords}function loadDependencies(require,exports,module){var core=require("./util/core");module.exports=makeApi(core)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./util/core":62}],61:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function typeOf(value){if(null===value)return"null";if(void 0===value)return"undefined";var string=Object.prototype.toString.call(value);return string.substring(8,string.length-1).toLowerCase()}return sinon.typeOf=typeOf,sinon.typeOf}function loadDependencies(require,exports,module){var core=require("./util/core");module.exports=makeApi(core)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./util/core":62}],62:[function(require,module,exports){!function(sinonGlobal){"use strict";function isDOMNode(obj){var success=!1;try{obj.appendChild(div),success=div.parentNode===obj}catch(e){return!1}finally{try{obj.removeChild(div)}catch(e){}}return success}function isElement(obj){return div&&obj&&1===obj.nodeType&&isDOMNode(obj)}function isFunction(obj){return"function"==typeof obj||!!(obj&&obj.constructor&&obj.call&&obj.apply)}function isReallyNaN(val){return"number"==typeof val&&isNaN(val)}function mirrorProperties(target,source){for(var prop in source)hasOwn.call(target,prop)||(target[prop]=source[prop])}function isRestorable(obj){return"function"==typeof obj&&"function"==typeof obj.restore&&obj.restore.sinon}function makeApi(sinon){return sinon.wrapMethod=function(object,property,method){function checkWrappedMethod(wrappedMethod){var error;if(isFunction(wrappedMethod)){if(wrappedMethod.restore&&wrappedMethod.restore.sinon)error=new TypeError("Attempted to wrap "+property+" which is already wrapped");else if(wrappedMethod.calledBefore){var verb=wrappedMethod.returns?"stubbed":"spied on";error=new TypeError("Attempted to wrap "+property+" which is already "+verb)}}else error=new TypeError("Attempted to wrap "+typeof wrappedMethod+" property "+property+" as function");if(error)throw wrappedMethod&&wrappedMethod.stackTrace&&(error.stack+="\n--------------\n"+wrappedMethod.stackTrace),error}if(!object)throw new TypeError("Should wrap property of object");if("function"!=typeof method&&"object"!=typeof method)throw new TypeError("Method wrapper should be a function or a property descriptor");var error,wrappedMethod,i,owned=object.hasOwnProperty?object.hasOwnProperty(property):hasOwn.call(object,property);if(hasES5Support){var methodDesc="function"==typeof method?{value:method}:method,wrappedMethodDesc=sinon.getPropertyDescriptor(object,property);if(wrappedMethodDesc?wrappedMethodDesc.restore&&wrappedMethodDesc.restore.sinon&&(error=new TypeError("Attempted to wrap "+property+" which is already wrapped")):error=new TypeError("Attempted to wrap "+typeof wrappedMethod+" property "+property+" as function"),error)throw wrappedMethodDesc&&wrappedMethodDesc.stackTrace&&(error.stack+="\n--------------\n"+wrappedMethodDesc.stackTrace),error;var types=sinon.objectKeys(methodDesc);for(i=0;i<types.length;i++)wrappedMethod=wrappedMethodDesc[types[i]],checkWrappedMethod(wrappedMethod);for(mirrorProperties(methodDesc,wrappedMethodDesc),i=0;i<types.length;i++)mirrorProperties(methodDesc[types[i]],wrappedMethodDesc[types[i]]);Object.defineProperty(object,property,methodDesc)}else wrappedMethod=object[property],checkWrappedMethod(wrappedMethod),object[property]=method,method.displayName=property;return method.displayName=property,method.stackTrace=new Error("Stack Trace for original").stack,method.restore=function(){if(owned)hasES5Support&&Object.defineProperty(object,property,wrappedMethodDesc);else try{delete object[property]}catch(e){}object[property]===method&&(object[property]=wrappedMethod)},method.restore.sinon=!0,hasES5Support||mirrorProperties(method,wrappedMethod),method},sinon.create=function(proto){var F=function(){};return F.prototype=proto,new F},sinon.deepEqual=function deepEqual(a,b){if(sinon.match&&sinon.match.isMatcher(a))return a.test(b);if("object"!=typeof a||"object"!=typeof b)return isReallyNaN(a)&&isReallyNaN(b)||a===b;if(isElement(a)||isElement(b))return a===b;if(a===b)return!0;if(null===a&&null!==b||null!==a&&null===b)return!1;if(a instanceof RegExp&&b instanceof RegExp)return a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline;var aString=Object.prototype.toString.call(a);if(aString!==Object.prototype.toString.call(b))return!1;if("[object Date]"===aString)return a.valueOf()===b.valueOf();var prop,aLength=0,bLength=0;if("[object Array]"===aString&&a.length!==b.length)return!1;for(prop in a)if(hasOwn.call(a,prop)){if(aLength+=1,!(prop in b))return!1;if(!deepEqual(a[prop],b[prop]))return!1}for(prop in b)hasOwn.call(b,prop)&&(bLength+=1);return aLength===bLength},sinon.functionName=function(func){var name=func.displayName||func.name;if(!name){var matches=func.toString().match(/function ([^\s\(]+)/);name=matches&&matches[1]}return name},sinon.functionToString=function(){if(this.getCall&&this.callCount)for(var thisValue,prop,i=this.callCount;i--;){thisValue=this.getCall(i).thisValue;for(prop in thisValue)if(thisValue[prop]===this)return prop}return this.displayName||"sinon fake"},sinon.objectKeys=function(obj){if(obj!==Object(obj))throw new TypeError("sinon.objectKeys called on a non-object");var key,keys=[];for(key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys},sinon.getPropertyDescriptor=function(object,property){for(var descriptor,proto=object;proto&&!(descriptor=Object.getOwnPropertyDescriptor(proto,property));)proto=Object.getPrototypeOf(proto);return descriptor},sinon.getConfig=function(custom){var config={};custom=custom||{};var defaults=sinon.defaultConfig;for(var prop in defaults)defaults.hasOwnProperty(prop)&&(config[prop]=custom.hasOwnProperty(prop)?custom[prop]:defaults[prop]);return config},sinon.defaultConfig={injectIntoThis:!0,injectInto:null,properties:["spy","stub","mock","clock","server","requests"],useFakeTimers:!0,useFakeServer:!0},sinon.timesInWords=function(count){return 1===count&&"once"||2===count&&"twice"||3===count&&"thrice"||(count||0)+" times"},sinon.calledInOrder=function(spies){for(var i=1,l=spies.length;i<l;i++)if(!spies[i-1].calledBefore(spies[i])||!spies[i].called)return!1;return!0},sinon.orderByFirstCall=function(spies){return spies.sort(function(a,b){var aCall=a.getCall(0),bCall=b.getCall(0),aId=aCall&&aCall.callId||-1,bId=bCall&&bCall.callId||-1;return aId<bId?-1:1})},sinon.createStubInstance=function(constructor){if("function"!=typeof constructor)throw new TypeError("The constructor should be a function.");return sinon.stub(sinon.create(constructor.prototype))},sinon.restore=function(object){if(null!==object&&"object"==typeof object)for(var prop in object)isRestorable(object[prop])&&object[prop].restore();else isRestorable(object)&&object.restore()},sinon}function loadDependencies(require,exports){makeApi(exports)}var div="undefined"!=typeof document&&document.createElement("div"),hasOwn=Object.prototype.hasOwnProperty,hasES5Support="keys"in Object,isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;
return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{}],63:[function(require,module,exports){"undefined"==typeof sinon&&(this.sinon={}),function(){"use strict";function makeApi(sinon){sinon.Event=function(type,bubbles,cancelable,target){this.initEvent(type,bubbles,cancelable,target)},sinon.Event.prototype={initEvent:function(type,bubbles,cancelable,target){this.type=type,this.bubbles=bubbles,this.cancelable=cancelable,this.target=target},stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}},sinon.ProgressEvent=function(type,progressEventRaw,target){this.initEvent(type,!1,!1,target),this.loaded="number"==typeof progressEventRaw.loaded?progressEventRaw.loaded:null,this.total="number"==typeof progressEventRaw.total?progressEventRaw.total:null,this.lengthComputable=!!progressEventRaw.total},sinon.ProgressEvent.prototype=new sinon.Event,sinon.ProgressEvent.prototype.constructor=sinon.ProgressEvent,sinon.CustomEvent=function(type,customData,target){this.initEvent(type,!1,!1,target),this.detail=customData.detail||null},sinon.CustomEvent.prototype=new sinon.Event,sinon.CustomEvent.prototype.constructor=sinon.CustomEvent,sinon.EventTarget={addEventListener:function(event,listener){this.eventListeners=this.eventListeners||{},this.eventListeners[event]=this.eventListeners[event]||[],push.call(this.eventListeners[event],listener)},removeEventListener:function(event,listener){for(var listeners=this.eventListeners&&this.eventListeners[event]||[],i=0,l=listeners.length;i<l;++i)if(listeners[i]===listener)return listeners.splice(i,1)},dispatchEvent:function(event){for(var type=event.type,listeners=this.eventListeners&&this.eventListeners[type]||[],i=0;i<listeners.length;i++)"function"==typeof listeners[i]?listeners[i].call(this,event):listeners[i].handleEvent(event);return!!event.defaultPrevented}}}function loadDependencies(require){var sinon=require("./core");makeApi(sinon)}var push=[].push,isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;isAMD?define(loadDependencies):isNode?loadDependencies(require):makeApi(sinon)}()},{"./core":62}],64:[function(require,module,exports){!function(){"use strict";function responseArray(handler){var response=handler;if("[object Array]"!==Object.prototype.toString.call(handler)&&(response=[200,{},handler]),"string"!=typeof response[2])throw new TypeError("Fake server response body should be string, but was "+typeof response[2]);return response}function matchOne(response,reqMethod,reqUrl){var rmeth=response.method,matchMethod=!rmeth||rmeth.toLowerCase()===reqMethod.toLowerCase(),url=response.url,matchUrl=!url||url===reqUrl||"function"==typeof url.test&&url.test(reqUrl);return matchMethod&&matchUrl}function match(response,request){var requestUrl=request.url;if(/^https?:\/\//.test(requestUrl)&&!rCurrLoc.test(requestUrl)||(requestUrl=requestUrl.replace(rCurrLoc,"")),matchOne(response,this.getHTTPMethod(request),requestUrl)){if("function"==typeof response.response){var ru=response.url,args=[request].concat(ru&&"function"==typeof ru.exec?ru.exec(requestUrl).slice(1):[]);return response.response.apply(response,args)}return!0}return!1}function makeApi(sinon){sinon.fakeServer={create:function(config){var server=sinon.create(this);return server.configure(config),sinon.xhr.supportsCORS?this.xhr=sinon.useFakeXMLHttpRequest():this.xhr=sinon.useFakeXDomainRequest(),server.requests=[],this.xhr.onCreate=function(xhrObj){server.addRequest(xhrObj)},server},configure:function(config){var setting,whitelist={autoRespond:!0,autoRespondAfter:!0,respondImmediately:!0,fakeHTTPMethods:!0};config=config||{};for(setting in config)whitelist.hasOwnProperty(setting)&&config.hasOwnProperty(setting)&&(this[setting]=config[setting])},addRequest:function(xhrObj){var server=this;push.call(this.requests,xhrObj),xhrObj.onSend=function(){server.handleRequest(this),server.respondImmediately?server.respond():server.autoRespond&&!server.responding&&(setTimeout(function(){server.responding=!1,server.respond()},server.autoRespondAfter||10),server.responding=!0)}},getHTTPMethod:function(request){if(this.fakeHTTPMethods&&/post/i.test(request.method)){var matches=(request.requestBody||"").match(/_method=([^\b;]+)/);return matches?matches[1]:request.method}return request.method},handleRequest:function(xhr){xhr.async?(this.queue||(this.queue=[]),push.call(this.queue,xhr)):this.processRequest(xhr)},log:function(response,request){var str;str="Request:\n"+sinon.format(request)+"\n\n",str+="Response:\n"+sinon.format(response)+"\n\n",sinon.log(str)},respondWith:function(method,url,body){return 1===arguments.length&&"function"!=typeof method?void(this.response=responseArray(method)):(this.responses||(this.responses=[]),1===arguments.length&&(body=method,url=method=null),2===arguments.length&&(body=url,url=method,method=null),void push.call(this.responses,{method:method,url:url,response:"function"==typeof body?body:responseArray(body)}))},respond:function(){arguments.length>0&&this.respondWith.apply(this,arguments);for(var queue=this.queue||[],requests=queue.splice(0,queue.length),i=0;i<requests.length;i++)this.processRequest(requests[i])},processRequest:function(request){try{if(request.aborted)return;var response=this.response||[404,{},""];if(this.responses)for(var l=this.responses.length,i=l-1;i>=0;i--)if(match.call(this,this.responses[i],request)){response=this.responses[i].response;break}4!==request.readyState&&(this.log(response,request),request.respond(response[0],response[1],response[2]))}catch(e){sinon.logError("Fake server request processing",e)}},restore:function(){return this.xhr.restore&&this.xhr.restore.apply(this.xhr,arguments)}}}function loadDependencies(require,exports,module){var sinon=require("./core");require("./fake_xdomain_request"),require("./fake_xml_http_request"),require("../format"),makeApi(sinon),module.exports=sinon}var push=[].push,wloc="undefined"!=typeof window?window.location:{},rCurrLoc=new RegExp("^"+wloc.protocol+"//"+wloc.host),isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;isAMD?define(loadDependencies):isNode?loadDependencies(require,module.exports,module):makeApi(sinon)}()},{"../format":51,"./core":62,"./fake_xdomain_request":67,"./fake_xml_http_request":68}],65:[function(require,module,exports){!function(){"use strict";function makeApi(sinon){function Server(){}Server.prototype=sinon.fakeServer,sinon.fakeServerWithClock=new Server,sinon.fakeServerWithClock.addRequest=function(xhr){if(xhr.async&&("object"==typeof setTimeout.clock?this.clock=setTimeout.clock:(this.clock=sinon.useFakeTimers(),this.resetClock=!0),!this.longestTimeout)){var clockSetTimeout=this.clock.setTimeout,clockSetInterval=this.clock.setInterval,server=this;this.clock.setTimeout=function(fn,timeout){return server.longestTimeout=Math.max(timeout,server.longestTimeout||0),clockSetTimeout.apply(this,arguments)},this.clock.setInterval=function(fn,timeout){return server.longestTimeout=Math.max(timeout,server.longestTimeout||0),clockSetInterval.apply(this,arguments)}}return sinon.fakeServer.addRequest.call(this,xhr)},sinon.fakeServerWithClock.respond=function(){var returnVal=sinon.fakeServer.respond.apply(this,arguments);return this.clock&&(this.clock.tick(this.longestTimeout||0),this.longestTimeout=0,this.resetClock&&(this.clock.restore(),this.resetClock=!1)),returnVal},sinon.fakeServerWithClock.restore=function(){return this.clock&&this.clock.restore(),sinon.fakeServer.restore.apply(this,arguments)}}function loadDependencies(require){var sinon=require("./core");require("./fake_server"),require("./fake_timers"),makeApi(sinon)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;isAMD?define(loadDependencies):isNode?loadDependencies(require):makeApi(sinon)}()},{"./core":62,"./fake_server":64,"./fake_timers":66}],66:[function(require,module,exports){!function(){"use strict";function makeApi(s,lol){var llx="undefined"!=typeof lolex?lolex:lol;s.useFakeTimers=function(){var now,methods=Array.prototype.slice.call(arguments);now="string"==typeof methods[0]?0:methods.shift();var clock=llx.install(now||0,methods);return clock.restore=clock.uninstall,clock},s.clock={create:function(now){return llx.createClock(now)}},s.timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setImmediate:"undefined"!=typeof setImmediate?setImmediate:void 0,clearImmediate:"undefined"!=typeof clearImmediate?clearImmediate:void 0,setInterval:setInterval,clearInterval:clearInterval,Date:Date}}function loadDependencies(require,epxorts,module,lolex){var core=require("./core");makeApi(core,lolex),module.exports=core}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;isAMD?define(loadDependencies):isNode?loadDependencies(require,module.exports,module,require("lolex")):makeApi(sinon)}()},{"./core":62,lolex:71}],67:[function(require,module,exports){(function(global){function getGlobal(){"use strict";return"undefined"!=typeof window?window:global}"undefined"==typeof sinon&&("undefined"==typeof this?getGlobal().sinon={}:this.sinon={}),function(global){"use strict";function makeApi(sinon){function FakeXDomainRequest(){this.readyState=FakeXDomainRequest.UNSENT,this.requestBody=null,this.requestHeaders={},this.status=0,this.timeout=null,"function"==typeof FakeXDomainRequest.onCreate&&FakeXDomainRequest.onCreate(this)}function verifyState(x){if(x.readyState!==FakeXDomainRequest.OPENED)throw new Error("INVALID_STATE_ERR");if(x.sendFlag)throw new Error("INVALID_STATE_ERR")}function verifyRequestSent(x){if(x.readyState===FakeXDomainRequest.UNSENT)throw new Error("Request not sent");if(x.readyState===FakeXDomainRequest.DONE)throw new Error("Request done")}function verifyResponseBodyType(body){if("string"!=typeof body){var error=new Error("Attempted to respond to fake XDomainRequest with "+body+", which is not a string.");throw error.name="InvalidBodyException",error}}sinon.xdr=xdr,sinon.extend(FakeXDomainRequest.prototype,sinon.EventTarget,{open:function(method,url){this.method=method,this.url=url,this.responseText=null,this.sendFlag=!1,this.readyStateChange(FakeXDomainRequest.OPENED)},readyStateChange:function(state){this.readyState=state;var eventName="";switch(this.readyState){case FakeXDomainRequest.UNSENT:break;case FakeXDomainRequest.OPENED:break;case FakeXDomainRequest.LOADING:this.sendFlag&&(eventName="onprogress");break;case FakeXDomainRequest.DONE:eventName=this.isTimeout?"ontimeout":this.errorFlag||this.status<200||this.status>299?"onerror":"onload"}if(eventName&&"function"==typeof this[eventName])try{this[eventName]()}catch(e){sinon.logError("Fake XHR "+eventName+" handler",e)}},send:function(data){verifyState(this),/^(get|head)$/i.test(this.method)||(this.requestBody=data),this.requestHeaders["Content-Type"]="text/plain;charset=utf-8",this.errorFlag=!1,this.sendFlag=!0,this.readyStateChange(FakeXDomainRequest.OPENED),"function"==typeof this.onSend&&this.onSend(this)},abort:function(){this.aborted=!0,this.responseText=null,this.errorFlag=!0,this.readyState>sinon.FakeXDomainRequest.UNSENT&&this.sendFlag&&(this.readyStateChange(sinon.FakeXDomainRequest.DONE),this.sendFlag=!1)},setResponseBody:function(body){verifyRequestSent(this),verifyResponseBodyType(body);var chunkSize=this.chunkSize||10,index=0;this.responseText="";do this.readyStateChange(FakeXDomainRequest.LOADING),this.responseText+=body.substring(index,index+chunkSize),index+=chunkSize;while(index<body.length);this.readyStateChange(FakeXDomainRequest.DONE)},respond:function(status,contentType,body){this.status="number"==typeof status?status:200,this.setResponseBody(body||"")},simulatetimeout:function(){this.status=0,this.isTimeout=!0,this.responseText=void 0,this.readyStateChange(FakeXDomainRequest.DONE)}}),sinon.extend(FakeXDomainRequest,{UNSENT:0,OPENED:1,LOADING:3,DONE:4}),sinon.useFakeXDomainRequest=function(){return sinon.FakeXDomainRequest.restore=function(keepOnCreate){xdr.supportsXDR&&(global.XDomainRequest=xdr.GlobalXDomainRequest),delete sinon.FakeXDomainRequest.restore,keepOnCreate!==!0&&delete sinon.FakeXDomainRequest.onCreate},xdr.supportsXDR&&(global.XDomainRequest=sinon.FakeXDomainRequest),sinon.FakeXDomainRequest},sinon.FakeXDomainRequest=FakeXDomainRequest}function loadDependencies(require,exports,module){var sinon=require("./core");require("../extend"),require("./event"),require("../log_error"),makeApi(sinon),module.exports=sinon}var xdr={XDomainRequest:global.XDomainRequest};xdr.GlobalXDomainRequest=global.XDomainRequest,xdr.supportsXDR="undefined"!=typeof xdr.GlobalXDomainRequest,xdr.workingXDR=!!xdr.supportsXDR&&xdr.GlobalXDomainRequest;var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;isAMD?define(loadDependencies):isNode?loadDependencies(require,module.exports,module):makeApi(sinon)}("undefined"!=typeof global?global:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../extend":50,"../log_error":52,"./core":62,"./event":63}],68:[function(require,module,exports){(function(global){!function(sinonGlobal,global){"use strict";function getWorkingXHR(globalScope){var supportsXHR="undefined"!=typeof globalScope.XMLHttpRequest;if(supportsXHR)return globalScope.XMLHttpRequest;var supportsActiveX="undefined"!=typeof globalScope.ActiveXObject;return!!supportsActiveX&&function(){return new globalScope.ActiveXObject("MSXML2.XMLHTTP.3.0")}}function UploadProgress(){this.eventListeners={abort:[],error:[],load:[],loadend:[],progress:[]}}function FakeXMLHttpRequest(){function addEventListener(eventName){xhr.addEventListener(eventName,function(event){var listener=xhr["on"+eventName];listener&&"function"==typeof listener&&listener.call(this,event)})}this.readyState=FakeXMLHttpRequest.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new UploadProgress,this.responseType="",this.response="",sinonXhr.supportsCORS&&(this.withCredentials=!1);for(var xhr=this,events=["loadstart","load","abort","error","loadend"],i=events.length-1;i>=0;i--)addEventListener(events[i]);"function"==typeof FakeXMLHttpRequest.onCreate&&FakeXMLHttpRequest.onCreate(this)}function verifyState(xhr){if(xhr.readyState!==FakeXMLHttpRequest.OPENED)throw new Error("INVALID_STATE_ERR");if(xhr.sendFlag)throw new Error("INVALID_STATE_ERR")}function getHeader(headers,header){header=header.toLowerCase();for(var h in headers)if(h.toLowerCase()===header)return h;return null}function each(collection,callback){if(collection)for(var i=0,l=collection.length;i<l;i+=1)callback(collection[i])}function some(collection,callback){for(var index=0;index<collection.length;index++)if(callback(collection[index])===!0)return!0;return!1}function verifyRequestOpened(xhr){if(xhr.readyState!==FakeXMLHttpRequest.OPENED)throw new Error("INVALID_STATE_ERR - "+xhr.readyState)}function verifyRequestSent(xhr){if(xhr.readyState===FakeXMLHttpRequest.DONE)throw new Error("Request done")}function verifyHeadersReceived(xhr){if(xhr.async&&xhr.readyState!==FakeXMLHttpRequest.HEADERS_RECEIVED)throw new Error("No headers received")}function verifyResponseBodyType(body){if("string"!=typeof body){var error=new Error("Attempted to respond to fake XMLHttpRequest with "+body+", which is not a string.");throw error.name="InvalidBodyException",error}}function convertToArrayBuffer(body){for(var buffer=new ArrayBuffer(body.length),view=new Uint8Array(buffer),i=0;i<body.length;i++){var charCode=body.charCodeAt(i);if(charCode>=256)throw new TypeError("arraybuffer or blob responseTypes require binary string, invalid character "+body[i]+" found.");view[i]=charCode}return buffer}function isXmlContentType(contentType){return!contentType||/(text\/xml)|(application\/xml)|(\+xml)/.test(contentType)}function convertResponseBody(responseType,contentType,body){if(""===responseType||"text"===responseType)return body;if(supportsArrayBuffer&&"arraybuffer"===responseType)return convertToArrayBuffer(body);if("json"===responseType)try{return JSON.parse(body)}catch(e){return null}else{if(supportsBlob&&"blob"===responseType){var blobOptions={};return contentType&&(blobOptions.type=contentType),new Blob([convertToArrayBuffer(body)],blobOptions)}if("document"===responseType)return isXmlContentType(contentType)?FakeXMLHttpRequest.parseXML(body):null}throw new Error("Invalid responseType "+responseType)}function clearResponse(xhr){""===xhr.responseType||"text"===xhr.responseType?xhr.response=xhr.responseText="":xhr.response=xhr.responseText=null,xhr.responseXML=null}function makeApi(sinon){sinon.xhr=sinonXhr,sinon.extend(FakeXMLHttpRequest.prototype,sinon.EventTarget,{async:!0,open:function(method,url,async,username,password){if(this.method=method,this.url=url,this.async="boolean"!=typeof async||async,this.username=username,this.password=password,clearResponse(this),this.requestHeaders={},this.sendFlag=!1,FakeXMLHttpRequest.useFilters===!0){var xhrArgs=arguments,defake=some(FakeXMLHttpRequest.filters,function(filter){return filter.apply(this,xhrArgs)});if(defake)return FakeXMLHttpRequest.defake(this,arguments)}this.readyStateChange(FakeXMLHttpRequest.OPENED)},readyStateChange:function(state){this.readyState=state;var event,progress,readyStateChangeEvent=new sinon.Event("readystatechange",(!1),(!1),this);if("function"==typeof this.onreadystatechange)try{this.onreadystatechange(readyStateChangeEvent)}catch(e){sinon.logError("Fake XHR onreadystatechange handler",e)}this.readyState===FakeXMLHttpRequest.DONE&&(progress={loaded:this.progress||0,total:this.progress||0},event=0===this.status?this.aborted?"abort":"error":"load",supportsProgress&&(this.upload.dispatchEvent(new sinon.ProgressEvent("progress",progress,this)),this.upload.dispatchEvent(new sinon.ProgressEvent(event,progress,this)),this.upload.dispatchEvent(new sinon.ProgressEvent("loadend",progress,this))),this.dispatchEvent(new sinon.ProgressEvent("progress",progress,this)),this.dispatchEvent(new sinon.ProgressEvent(event,progress,this)),this.dispatchEvent(new sinon.ProgressEvent("loadend",progress,this))),this.dispatchEvent(readyStateChangeEvent)},setRequestHeader:function(header,value){if(verifyState(this),unsafeHeaders[header]||/^(Sec-|Proxy-)/.test(header))throw new Error('Refused to set unsafe header "'+header+'"');this.requestHeaders[header]?this.requestHeaders[header]+=","+value:this.requestHeaders[header]=value},setResponseHeaders:function(headers){verifyRequestOpened(this),this.responseHeaders={};for(var header in headers)headers.hasOwnProperty(header)&&(this.responseHeaders[header]=headers[header]);this.async?this.readyStateChange(FakeXMLHttpRequest.HEADERS_RECEIVED):this.readyState=FakeXMLHttpRequest.HEADERS_RECEIVED},send:function(data){if(verifyState(this),!/^(get|head)$/i.test(this.method)){var contentType=getHeader(this.requestHeaders,"Content-Type");if(this.requestHeaders[contentType]){var value=this.requestHeaders[contentType].split(";");this.requestHeaders[contentType]=value[0]+";charset=utf-8"}else!supportsFormData||data instanceof FormData||(this.requestHeaders["Content-Type"]="text/plain;charset=utf-8");this.requestBody=data}this.errorFlag=!1,this.sendFlag=this.async,clearResponse(this),this.readyStateChange(FakeXMLHttpRequest.OPENED),"function"==typeof this.onSend&&this.onSend(this),this.dispatchEvent(new sinon.Event("loadstart",(!1),(!1),this))},abort:function(){this.aborted=!0,clearResponse(this),this.errorFlag=!0,this.requestHeaders={},this.responseHeaders={},this.readyState>FakeXMLHttpRequest.UNSENT&&this.sendFlag&&(this.readyStateChange(FakeXMLHttpRequest.DONE),this.sendFlag=!1),this.readyState=FakeXMLHttpRequest.UNSENT},error:function(){clearResponse(this),this.errorFlag=!0,this.requestHeaders={},this.responseHeaders={},this.readyStateChange(FakeXMLHttpRequest.DONE)},getResponseHeader:function(header){return this.readyState<FakeXMLHttpRequest.HEADERS_RECEIVED?null:/^Set-Cookie2?$/i.test(header)?null:(header=getHeader(this.responseHeaders,header),this.responseHeaders[header]||null)},getAllResponseHeaders:function(){if(this.readyState<FakeXMLHttpRequest.HEADERS_RECEIVED)return"";var headers="";for(var header in this.responseHeaders)this.responseHeaders.hasOwnProperty(header)&&!/^Set-Cookie2?$/i.test(header)&&(headers+=header+": "+this.responseHeaders[header]+"\r\n");return headers},setResponseBody:function(body){verifyRequestSent(this),verifyHeadersReceived(this),verifyResponseBodyType(body);var contentType=this.getResponseHeader("Content-Type"),isTextResponse=""===this.responseType||"text"===this.responseType;if(clearResponse(this),this.async){var chunkSize=this.chunkSize||10,index=0;do this.readyStateChange(FakeXMLHttpRequest.LOADING),isTextResponse&&(this.responseText=this.response+=body.substring(index,index+chunkSize)),index+=chunkSize;while(index<body.length)}this.response=convertResponseBody(this.responseType,contentType,body),isTextResponse&&(this.responseText=this.response),"document"===this.responseType?this.responseXML=this.response:""===this.responseType&&isXmlContentType(contentType)&&(this.responseXML=FakeXMLHttpRequest.parseXML(this.responseText)),this.progress=body.length,this.readyStateChange(FakeXMLHttpRequest.DONE)},respond:function(status,headers,body){this.status="number"==typeof status?status:200,this.statusText=FakeXMLHttpRequest.statusCodes[this.status],this.setResponseHeaders(headers||{}),this.setResponseBody(body||"")},uploadProgress:function(progressEventRaw){supportsProgress&&this.upload.dispatchEvent(new sinon.ProgressEvent("progress",progressEventRaw))},downloadProgress:function(progressEventRaw){supportsProgress&&this.dispatchEvent(new sinon.ProgressEvent("progress",progressEventRaw))},uploadError:function(error){supportsCustomEvent&&this.upload.dispatchEvent(new sinon.CustomEvent("error",{detail:error}))}}),sinon.extend(FakeXMLHttpRequest,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4}),sinon.useFakeXMLHttpRequest=function(){return FakeXMLHttpRequest.restore=function(keepOnCreate){sinonXhr.supportsXHR&&(global.XMLHttpRequest=sinonXhr.GlobalXMLHttpRequest),sinonXhr.supportsActiveX&&(global.ActiveXObject=sinonXhr.GlobalActiveXObject),delete FakeXMLHttpRequest.restore,keepOnCreate!==!0&&delete FakeXMLHttpRequest.onCreate},sinonXhr.supportsXHR&&(global.XMLHttpRequest=FakeXMLHttpRequest),sinonXhr.supportsActiveX&&(global.ActiveXObject=function(objId){return"Microsoft.XMLHTTP"===objId||/^Msxml2\.XMLHTTP/i.test(objId)?new FakeXMLHttpRequest:new sinonXhr.GlobalActiveXObject(objId)}),FakeXMLHttpRequest},sinon.FakeXMLHttpRequest=FakeXMLHttpRequest}function loadDependencies(require,exports,module){var sinon=require("./core");require("../extend"),require("./event"),require("../log_error"),makeApi(sinon),module.exports=sinon}var supportsProgress="undefined"!=typeof ProgressEvent,supportsCustomEvent="undefined"!=typeof CustomEvent,supportsFormData="undefined"!=typeof FormData,supportsArrayBuffer="undefined"!=typeof ArrayBuffer,supportsBlob=function(){try{return!!new Blob}catch(e){return!1}}(),sinonXhr={XMLHttpRequest:global.XMLHttpRequest};sinonXhr.GlobalXMLHttpRequest=global.XMLHttpRequest,sinonXhr.GlobalActiveXObject=global.ActiveXObject,sinonXhr.supportsActiveX="undefined"!=typeof sinonXhr.GlobalActiveXObject,sinonXhr.supportsXHR="undefined"!=typeof sinonXhr.GlobalXMLHttpRequest,sinonXhr.workingXHR=getWorkingXHR(global),sinonXhr.supportsCORS=sinonXhr.supportsXHR&&"withCredentials"in new sinonXhr.GlobalXMLHttpRequest;var unsafeHeaders={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};UploadProgress.prototype.addEventListener=function(event,listener){this.eventListeners[event].push(listener)},UploadProgress.prototype.removeEventListener=function(event,listener){for(var listeners=this.eventListeners[event]||[],i=0,l=listeners.length;i<l;++i)if(listeners[i]===listener)return listeners.splice(i,1)},UploadProgress.prototype.dispatchEvent=function(event){for(var listener,listeners=this.eventListeners[event.type]||[],i=0;null!=(listener=listeners[i]);i++)listener(event)};var apply=function(obj,method,args){switch(args.length){case 0:return obj[method]();case 1:return obj[method](args[0]);case 2:return obj[method](args[0],args[1]);case 3:return obj[method](args[0],args[1],args[2]);case 4:return obj[method](args[0],args[1],args[2],args[3]);case 5:return obj[method](args[0],args[1],args[2],args[3],args[4])}};FakeXMLHttpRequest.filters=[],FakeXMLHttpRequest.addFilter=function(fn){this.filters.push(fn)};var IE6Re=/MSIE 6/;FakeXMLHttpRequest.defake=function(fakeXhr,xhrArgs){var xhr=new sinonXhr.workingXHR;each(["open","setRequestHeader","send","abort","getResponseHeader","getAllResponseHeaders","addEventListener","overrideMimeType","removeEventListener"],function(method){fakeXhr[method]=function(){return apply(xhr,method,arguments)}});var copyAttrs=function(args){each(args,function(attr){try{fakeXhr[attr]=xhr[attr]}catch(e){if(!IE6Re.test(navigator.userAgent))throw e}})},stateChange=function(){fakeXhr.readyState=xhr.readyState,xhr.readyState>=FakeXMLHttpRequest.HEADERS_RECEIVED&&copyAttrs(["status","statusText"]),xhr.readyState>=FakeXMLHttpRequest.LOADING&&copyAttrs(["responseText","response"]),xhr.readyState===FakeXMLHttpRequest.DONE&&copyAttrs(["responseXML"]),fakeXhr.onreadystatechange&&fakeXhr.onreadystatechange.call(fakeXhr,{target:fakeXhr})};if(xhr.addEventListener){for(var event in fakeXhr.eventListeners)fakeXhr.eventListeners.hasOwnProperty(event)&&each(fakeXhr.eventListeners[event],function(handler){xhr.addEventListener(event,handler)});xhr.addEventListener("readystatechange",stateChange)}else xhr.onreadystatechange=stateChange;apply(xhr,"open",xhrArgs)},FakeXMLHttpRequest.useFilters=!1,FakeXMLHttpRequest.parseXML=function(text){if(""!==text)try{if("undefined"!=typeof DOMParser){var parser=new DOMParser;return parser.parseFromString(text,"text/xml")}var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");return xmlDoc.async="false",xmlDoc.loadXML(text),xmlDoc}catch(e){}return null},FakeXMLHttpRequest.statusCodes={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon,"undefined"!=typeof global?global:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../extend":50,"../log_error":52,"./core":62,"./event":63}],69:[function(require,module,exports){!function(sinonGlobal){"use strict";function makeApi(sinon){function walkInternal(obj,iterator,context,originalObj,seen){var proto,prop;if("function"==typeof Object.getOwnPropertyNames)Object.getOwnPropertyNames(obj).forEach(function(k){if(!seen[k]){seen[k]=!0;var target="function"==typeof Object.getOwnPropertyDescriptor(obj,k).get?originalObj:obj;iterator.call(context,target[k],k,target)}}),proto=Object.getPrototypeOf(obj),proto&&walkInternal(proto,iterator,context,originalObj,seen);else for(prop in obj)iterator.call(context,obj[prop],prop,obj)}function walk(obj,iterator,context){return walkInternal(obj,iterator,context,obj,{})}return sinon.walk=walk,sinon.walk}function loadDependencies(require,exports,module){var sinon=require("./util/core");module.exports=makeApi(sinon)}var isNode="undefined"!=typeof module&&module.exports&&"function"==typeof require,isAMD="function"==typeof define&&"object"==typeof define.amd&&define.amd;return isAMD?void define(loadDependencies):isNode?void loadDependencies(require,module.exports,module):void(sinonGlobal&&makeApi(sinonGlobal))}("object"==typeof sinon&&sinon)},{"./util/core":62}],70:[function(require,module,exports){(function(global){("function"==typeof define&&define.amd&&function(m){define("formatio",["samsam"],m)}||"object"==typeof module&&function(m){module.exports=m(require("samsam"))}||function(m){this.formatio=m(this.samsam)})(function(samsam){"use strict";function functionName(func){if(!func)return"";if(func.displayName)return func.displayName;if(func.name)return func.name;var matches=func.toString().match(/function\s+([^\(]+)/m);return matches&&matches[1]||""}function constructorName(f,object){var i,l,name=functionName(object&&object.constructor),excludes=f.excludeConstructors||formatio.excludeConstructors||[];for(i=0,l=excludes.length;i<l;++i){if("string"==typeof excludes[i]&&excludes[i]===name)return"";if(excludes[i].test&&excludes[i].test(name))return""}return name}function isCircular(object,objects){if("object"!=typeof object)return!1;var i,l;for(i=0,l=objects.length;i<l;++i)if(objects[i]===object)return!0;return!1}function ascii(f,object,processed,indent){if("string"==typeof object){var qs=f.quoteStrings,quote="boolean"!=typeof qs||qs;return processed||quote?'"'+object+'"':object}if("function"==typeof object&&!(object instanceof RegExp))return ascii.func(object);if(processed=processed||[],isCircular(object,processed))return"[Circular]";if("[object Array]"===Object.prototype.toString.call(object))return ascii.array.call(f,object,processed);if(!object)return String(1/object===-(1/0)?"-0":object);if(samsam.isElement(object))return ascii.element(object);if("function"==typeof object.toString&&object.toString!==Object.prototype.toString)return object.toString();var i,l;for(i=0,l=specialObjects.length;i<l;i++)if(object===specialObjects[i].object)return specialObjects[i].value;return ascii.object.call(f,object,processed,indent)}function Formatio(options){for(var opt in options)this[opt]=options[opt]}var formatio={excludeConstructors:["Object",/^.$/],quoteStrings:!0,limitChildrenCount:0},specialObjects=(Object.prototype.hasOwnProperty,[]);return"undefined"!=typeof global&&specialObjects.push({object:global,value:"[object global]"}),"undefined"!=typeof document&&specialObjects.push({object:document,value:"[object HTMLDocument]"}),"undefined"!=typeof window&&specialObjects.push({object:window,value:"[object Window]"}),ascii.func=function(func){return"function "+functionName(func)+"() {}"},ascii.array=function(array,processed){processed=processed||[],processed.push(array);var i,l,pieces=[];for(l=this.limitChildrenCount>0?Math.min(this.limitChildrenCount,array.length):array.length,i=0;i<l;++i)pieces.push(ascii(this,array[i],processed));return l<array.length&&pieces.push("[... "+(array.length-l)+" more elements]"),
"["+pieces.join(", ")+"]"},ascii.object=function(object,processed,indent){processed=processed||[],processed.push(object),indent=indent||0;var prop,str,obj,i,k,l,pieces=[],properties=samsam.keys(object).sort(),length=3;for(l=this.limitChildrenCount>0?Math.min(this.limitChildrenCount,properties.length):properties.length,i=0;i<l;++i)prop=properties[i],obj=object[prop],str=isCircular(obj,processed)?"[Circular]":ascii(this,obj,processed,indent+2),str=(/\s/.test(prop)?'"'+prop+'"':prop)+": "+str,length+=str.length,pieces.push(str);var cons=constructorName(this,object),prefix=cons?"["+cons+"] ":"",is="";for(i=0,k=indent;i<k;++i)is+=" ";return l<properties.length&&pieces.push("[... "+(properties.length-l)+" more elements]"),length+indent>80?prefix+"{\n  "+is+pieces.join(",\n  "+is)+"\n"+is+"}":prefix+"{ "+pieces.join(", ")+" }"},ascii.element=function(element){var attr,attrName,i,l,val,tagName=element.tagName.toLowerCase(),attrs=element.attributes,pairs=[];for(i=0,l=attrs.length;i<l;++i)attr=attrs.item(i),attrName=attr.nodeName.toLowerCase().replace("html:",""),val=attr.nodeValue,"contenteditable"===attrName&&"inherit"===val||val&&pairs.push(attrName+'="'+val+'"');var formatted="<"+tagName+(pairs.length>0?" ":""),content=element.innerHTML;content.length>20&&(content=content.substr(0,20)+"[...]");var res=formatted+pairs.join(" ")+">"+content+"</"+tagName+">";return res.replace(/ contentEditable="inherit"/,"")},Formatio.prototype={functionName:functionName,configure:function(options){return new Formatio(options)},constructorName:function(object){return constructorName(this,object)},ascii:function(object,processed,indent){return ascii(this,object,processed,indent)}},Formatio.prototype})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{samsam:72}],71:[function(require,module,exports){(function(global){!function(global){"use strict";function parseTime(str){if(!str)return 0;var parsed,strings=str.split(":"),l=strings.length,i=l,ms=0;if(l>3||!/^(\d\d:){0,2}\d\d?$/.test(str))throw new Error("tick only understands numbers and 'h:m:s'");for(;i--;){if(parsed=parseInt(strings[i],10),parsed>=60)throw new Error("Invalid time "+str);ms+=parsed*Math.pow(60,l-i-1)}return 1e3*ms}function getEpoch(epoch){if(!epoch)return 0;if("function"==typeof epoch.getTime)return epoch.getTime();if("number"==typeof epoch)return epoch;throw new TypeError("now should be milliseconds since UNIX epoch")}function inRange(from,to,timer){return timer&&timer.callAt>=from&&timer.callAt<=to}function mirrorDateProperties(target,source){var prop;for(prop in source)source.hasOwnProperty(prop)&&(target[prop]=source[prop]);return source.now?target.now=function(){return target.clock.now}:delete target.now,source.toSource?target.toSource=function(){return source.toSource()}:delete target.toSource,target.toString=function(){return source.toString()},target.prototype=source.prototype,target.parse=source.parse,target.UTC=source.UTC,target.prototype.toUTCString=source.prototype.toUTCString,target}function createDate(){function ClockDate(year,month,date,hour,minute,second,ms){switch(arguments.length){case 0:return new NativeDate(ClockDate.clock.now);case 1:return new NativeDate(year);case 2:return new NativeDate(year,month);case 3:return new NativeDate(year,month,date);case 4:return new NativeDate(year,month,date,hour);case 5:return new NativeDate(year,month,date,hour,minute);case 6:return new NativeDate(year,month,date,hour,minute,second);default:return new NativeDate(year,month,date,hour,minute,second,ms)}}return mirrorDateProperties(ClockDate,NativeDate)}function addTimer(clock,timer){if(void 0===timer.func)throw new Error("Callback must be provided to timer calls");return clock.timers||(clock.timers={}),timer.id=uniqueTimerId++,timer.createdAt=clock.now,timer.callAt=clock.now+(timer.delay||(clock.duringTick?1:0)),clock.timers[timer.id]=timer,addTimerReturnsObject?{id:timer.id,ref:NOOP,unref:NOOP}:timer.id}function compareTimers(a,b){return a.callAt<b.callAt?-1:a.callAt>b.callAt?1:a.immediate&&!b.immediate?-1:!a.immediate&&b.immediate?1:a.createdAt<b.createdAt?-1:a.createdAt>b.createdAt?1:a.id<b.id?-1:a.id>b.id?1:void 0}function firstTimerInRange(clock,from,to){var id,isInRange,timers=clock.timers,timer=null;for(id in timers)timers.hasOwnProperty(id)&&(isInRange=inRange(from,to,timers[id]),!isInRange||timer&&1!==compareTimers(timer,timers[id])||(timer=timers[id]));return timer}function callTimer(clock,timer){var exception;"number"==typeof timer.interval?clock.timers[timer.id].callAt+=timer.interval:delete clock.timers[timer.id];try{"function"==typeof timer.func?timer.func.apply(null,timer.args):eval(timer.func)}catch(e){exception=e}if(clock.timers[timer.id]){if(exception)throw exception}else if(exception)throw exception}function timerType(timer){return timer.immediate?"Immediate":"undefined"!=typeof timer.interval?"Interval":"Timeout"}function clearTimer(clock,timerId,ttype){if(timerId&&(clock.timers||(clock.timers=[]),"object"==typeof timerId&&(timerId=timerId.id),clock.timers.hasOwnProperty(timerId))){var timer=clock.timers[timerId];if(timerType(timer)!==ttype)throw new Error("Cannot clear timer: timer created with set"+ttype+"() but cleared with clear"+timerType(timer)+"()");delete clock.timers[timerId]}}function uninstall(clock,target){var method,i,l;for(i=0,l=clock.methods.length;i<l;i++)if(method=clock.methods[i],target[method].hadOwnProperty)target[method]=clock["_"+method];else try{delete target[method]}catch(ignore){}clock.methods=[]}function hijackMethod(target,method,clock){var prop;if(clock[method].hadOwnProperty=Object.prototype.hasOwnProperty.call(target,method),clock["_"+method]=target[method],"Date"===method){var date=mirrorDateProperties(clock[method],target[method]);target[method]=date}else{target[method]=function(){return clock[method].apply(clock,arguments)};for(prop in clock[method])clock[method].hasOwnProperty(prop)&&(target[method][prop]=clock[method][prop])}target[method].clock=clock}function createClock(now){var clock={now:getEpoch(now),timeouts:{},Date:createDate()};return clock.Date.clock=clock,clock.setTimeout=function(func,timeout){return addTimer(clock,{func:func,args:Array.prototype.slice.call(arguments,2),delay:timeout})},clock.clearTimeout=function(timerId){return clearTimer(clock,timerId,"Timeout")},clock.setInterval=function(func,timeout){return addTimer(clock,{func:func,args:Array.prototype.slice.call(arguments,2),delay:timeout,interval:timeout})},clock.clearInterval=function(timerId){return clearTimer(clock,timerId,"Interval")},clock.setImmediate=function(func){return addTimer(clock,{func:func,args:Array.prototype.slice.call(arguments,1),immediate:!0})},clock.clearImmediate=function(timerId){return clearTimer(clock,timerId,"Immediate")},clock.tick=function(ms){ms="number"==typeof ms?ms:parseTime(ms);var oldNow,tickFrom=clock.now,tickTo=clock.now+ms,previous=clock.now,timer=firstTimerInRange(clock,tickFrom,tickTo);clock.duringTick=!0;for(var firstException;timer&&tickFrom<=tickTo;){if(clock.timers[timer.id]){tickFrom=clock.now=timer.callAt;try{oldNow=clock.now,callTimer(clock,timer),oldNow!==clock.now&&(tickFrom+=clock.now-oldNow,tickTo+=clock.now-oldNow,previous+=clock.now-oldNow)}catch(e){firstException=firstException||e}}timer=firstTimerInRange(clock,previous,tickTo),previous=tickFrom}if(clock.duringTick=!1,clock.now=tickTo,firstException)throw firstException;return clock.now},clock.reset=function(){clock.timers={}},clock.setSystemTime=function(now){var newNow=getEpoch(now),difference=newNow-clock.now;clock.now=newNow;for(var id in clock.timers)if(clock.timers.hasOwnProperty(id)){var timer=clock.timers[id];timer.createdAt+=difference,timer.callAt+=difference}},clock}var glbl=global;global.setTimeout=glbl.setTimeout,global.clearTimeout=glbl.clearTimeout,global.setInterval=glbl.setInterval,global.clearInterval=glbl.clearInterval,global.Date=glbl.Date,"setImmediate"in global&&(global.setImmediate=glbl.setImmediate,global.clearImmediate=glbl.clearImmediate);var NOOP=function(){},timeoutResult=setTimeout(NOOP,0),addTimerReturnsObject="object"==typeof timeoutResult;clearTimeout(timeoutResult);var NativeDate=Date,uniqueTimerId=1,timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setImmediate:global.setImmediate,clearImmediate:global.clearImmediate,setInterval:setInterval,clearInterval:clearInterval,Date:Date},keys=Object.keys||function(obj){var key,ks=[];for(key in obj)obj.hasOwnProperty(key)&&ks.push(key);return ks};exports.timers=timers,exports.createClock=createClock,exports.install=function(target,now,toFake){var i,l;"number"==typeof target&&(toFake=now,now=target,target=null),target||(target=global);var clock=createClock(now);for(clock.uninstall=function(){uninstall(clock,target)},clock.methods=toFake||[],0===clock.methods.length&&(clock.methods=keys(timers)),i=0,l=clock.methods.length;i<l;i++)hijackMethod(target,clock.methods[i],clock);return clock}}(global||this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],72:[function(require,module,exports){("function"==typeof define&&define.amd&&function(m){define("samsam",m)}||"object"==typeof module&&function(m){module.exports=m()}||function(m){this.samsam=m()})(function(){function isNaN(value){var val=value;return"number"==typeof value&&value!==val}function getClass(value){return o.toString.call(value).split(/[ \]]/)[1]}function isArguments(object){if("Arguments"===getClass(object))return!0;if("object"!=typeof object||"number"!=typeof object.length||"Array"===getClass(object))return!1;if("function"==typeof object.callee)return!0;try{object[object.length]=6,delete object[object.length]}catch(e){return!0}return!1}function isElement(object){if(!object||1!==object.nodeType||!div)return!1;try{object.appendChild(div),object.removeChild(div)}catch(e){return!1}return!0}function keys(object){var prop,ks=[];for(prop in object)o.hasOwnProperty.call(object,prop)&&ks.push(prop);return ks}function isDate(value){return"function"==typeof value.getTime&&value.getTime()==value.valueOf()}function isNegZero(value){return 0===value&&1/value===-(1/0)}function identical(obj1,obj2){if(obj1===obj2||isNaN(obj1)&&isNaN(obj2))return 0!==obj1||isNegZero(obj1)===isNegZero(obj2)}function deepEqualCyclic(obj1,obj2){function isObject(value){return!("object"!=typeof value||null===value||value instanceof Boolean||value instanceof Date||value instanceof Number||value instanceof RegExp||value instanceof String)}function getIndex(objects,obj){var i;for(i=0;i<objects.length;i++)if(objects[i]===obj)return i;return-1}var objects1=[],objects2=[],paths1=[],paths2=[],compared={};return function deepEqual(obj1,obj2,path1,path2){var type1=typeof obj1,type2=typeof obj2;if(obj1===obj2||isNaN(obj1)||isNaN(obj2)||null==obj1||null==obj2||"object"!==type1||"object"!==type2)return identical(obj1,obj2);if(isElement(obj1)||isElement(obj2))return!1;var isDate1=isDate(obj1),isDate2=isDate(obj2);if((isDate1||isDate2)&&(!isDate1||!isDate2||obj1.getTime()!==obj2.getTime()))return!1;if(obj1 instanceof RegExp&&obj2 instanceof RegExp&&obj1.toString()!==obj2.toString())return!1;var class1=getClass(obj1),class2=getClass(obj2),keys1=keys(obj1),keys2=keys(obj2);if(isArguments(obj1)||isArguments(obj2)){if(obj1.length!==obj2.length)return!1}else if(type1!==type2||class1!==class2||keys1.length!==keys2.length)return!1;var key,i,l,value1,value2,isObject1,isObject2,index1,index2,newPath1,newPath2;for(i=0,l=keys1.length;i<l;i++){if(key=keys1[i],!o.hasOwnProperty.call(obj2,key))return!1;if(value1=obj1[key],value2=obj2[key],isObject1=isObject(value1),isObject2=isObject(value2),index1=isObject1?getIndex(objects1,value1):-1,index2=isObject2?getIndex(objects2,value2):-1,newPath1=index1!==-1?paths1[index1]:path1+"["+JSON.stringify(key)+"]",newPath2=index2!==-1?paths2[index2]:path2+"["+JSON.stringify(key)+"]",compared[newPath1+newPath2])return!0;if(index1===-1&&isObject1&&(objects1.push(value1),paths1.push(newPath1)),index2===-1&&isObject2&&(objects2.push(value2),paths2.push(newPath2)),isObject1&&isObject2&&(compared[newPath1+newPath2]=!0),!deepEqual(value1,value2,newPath1,newPath2))return!1}return!0}(obj1,obj2,"$1","$2")}function arrayContains(array,subset){if(0===subset.length)return!0;var i,l,j,k;for(i=0,l=array.length;i<l;++i)if(match(array[i],subset[0])){for(j=0,k=subset.length;j<k;++j)if(!match(array[i+j],subset[j]))return!1;return!0}return!1}var match,o=Object.prototype,div="undefined"!=typeof document&&document.createElement("div");return match=function match(object,matcher){if(matcher&&"function"==typeof matcher.test)return matcher.test(object);if("function"==typeof matcher)return matcher(object)===!0;if("string"==typeof matcher){matcher=matcher.toLowerCase();var notNull="string"==typeof object||!!object;return notNull&&String(object).toLowerCase().indexOf(matcher)>=0}if("number"==typeof matcher)return matcher===object;if("boolean"==typeof matcher)return matcher===object;if("undefined"==typeof matcher)return"undefined"==typeof object;if(null===matcher)return null===object;if("Array"===getClass(object)&&"Array"===getClass(matcher))return arrayContains(object,matcher);if(matcher&&"object"==typeof matcher){if(matcher===object)return!0;var prop;for(prop in matcher){var value=object[prop];if("undefined"==typeof value&&"function"==typeof object.getAttribute&&(value=object.getAttribute(prop)),null===matcher[prop]||"undefined"==typeof matcher[prop]){if(value!==matcher[prop])return!1}else if("undefined"==typeof value||!match(value,matcher[prop]))return!1}return!0}throw new Error("Matcher was not a string, a number, a function, a boolean or an object")},{isArguments:isArguments,isElement:isElement,isDate:isDate,isNegZero:isNegZero,identical:identical,deepEqual:deepEqualCyclic,match:match,keys:keys}})},{}],73:[function(require,module,exports){"use strict";function each(arr,fn,ctx){array.forEach.call(arr,fn,ctx||arr)}function eachRight(arr,fn,ctx){for(var i=arr.length-1;i>=0;--i)fn.call(ctx||arr[i],arr[i],i,arr)}function filter(arr,fn,ctx){return array.filter.call(arr,fn,ctx)}function map(arr,fn,ctx){return array.map.call(arr,fn,ctx)}function every(arr,fn,ctx){return array.every.call(arr,fn,ctx)}function some(arr,fn,ctx){return array.some.call(arr,fn,ctx)}function indexOf(arr,obj){var fromIndex=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return array.indexOf.call(arr,obj,fromIndex)}function lastIndexOf(arr,obj){var fromIndex=arguments.length<=2||void 0===arguments[2]?arr.length-1:arguments[2];return array.lastIndexOf.call(arr,obj,fromIndex)}function reduce(arr,fn,initialValue){return array.reduce.call(arr,fn,initialValue)}function reduceRight(arr,fn,initialValue){return array.reduceRight.call(arr,fn,initialValue)}function contains(arr,obj){return array.includes?array.includes.call(arr,obj):indexOf(arr,obj)!==-1}function unique(arr){for(var a=[],i=0,len=arr.length;i<len;i++)contains(a,arr[i])||a.push(arr[i]);return a}function isEmpty(arr){return 0===arr.length}function random(arr){return arr[Math.round(Math.random()*(arr.length-1))]}function remove(arr,obj){var index=indexOf(arr,obj);index!==-1&&removeAt(arr,index)}function removeAt(arr,index){array.splice.call(arr,index,1)}function include(arr,obj){contains(arr,obj)||array.push.call(arr,obj)}function insert(arr,obj,index){array.splice.call(arr,index,0,obj)}function copy(arr){return array.slice.call(arr)}function find(arr,fn,ctx){if(array.find)return array.find.call(arr,fn,ctx);var index=findIndex(arr,fn,ctx);return index===-1?null:arr[index]}function findIndex(arr,fn,ctx){if(array.findIndex)return array.findIndex.call(arr,fn,ctx);for(var i=0,len=arr.length;i<len;i++)if(fn.call(ctx||arr[i],arr[i],i,arr))return i;return-1}function clear(arr){for(var i=arr.length-1;i>=0;i--)removeAt(arr,i);arr.length=0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toArray=void 0,exports.each=each,exports.eachRight=eachRight,exports.filter=filter,exports.map=map,exports.every=every,exports.some=some,exports.indexOf=indexOf,exports.lastIndexOf=lastIndexOf,exports.reduce=reduce,exports.reduceRight=reduceRight,exports.contains=contains,exports.unique=unique,exports.isEmpty=isEmpty,exports.random=random,exports.remove=remove,exports.removeAt=removeAt,exports.include=include,exports.insert=insert,exports.copy=copy,exports.find=find,exports.findIndex=findIndex,exports.clear=clear;var _lang=require("../lang"),array=[],slice=array.slice;exports.toArray=Array.from||function(obj){return(0,_lang.isArray)(obj)?obj:slice.call(obj)}},{"../lang":80}],74:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _array=require("./array");Object.keys(_array).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _array[key]}})})},{"./array":73}],75:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function print(type,msg){console&&type in console&&console[type](msg)}function formatMessage(obj,msg){return obj.getClassName()+"(#"+obj.id()+"): "+msg}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};exports.print=print,exports.formatMessage=formatMessage;var _index=require("./index"),propertyDefaults={enumerable:!0,configurable:!0,writable:!0},_id=function(){return"function"==typeof Symbol&&"symbol"===_typeof(Symbol())?Symbol("id"):"$id"}(),BaseObject=function(){function BaseObject(properties){_classCallCheck(this,BaseObject),this.defineProperty(_id,(0,_index.uid)(),{enumerable:!1,configurable:!1,writable:!1}),properties&&this.defineProperties(properties),this.initialize()}return _createClass(BaseObject,[{key:"initialize",value:function(){}},{key:"destroy",value:function(){var _this=this;return Object.getOwnPropertyNames(this).forEach(function(prop){prop!==_id&&_this.removeProperty(prop)}),this.destroy=function(){return _this.warn("Instance already destroyed")},this}},{key:"id",value:function(){return this[_id]}},{key:"defineProperties",value:function(properties){for(var name in properties)(0,_index.hasOwnProperty)(properties,name)&&this.defineProperty(name,properties[name]);return this}},{key:"defineProperty",value:function(name,value){var descriptor=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return Object.defineProperty(this,name,(0,_index.mixin)({value:value},propertyDefaults,descriptor)),this}},{key:"hasProperty",value:function(name){return name in this}},{key:"getProperty",value:function(name){return this.hasProperty(name)?this[name]:null}},{key:"setProperty",value:function(name,value){return this[name]=value,this}},{key:"removeProperty",value:function(name){return this.hasProperty(name)?delete this[name]:this.warn('"'+name+'" property does not exist'),this}},{key:"getProperties",value:function(){var map=Object.create(null),obj=this;do Object.getOwnPropertyNames(obj).forEach(function(prop){prop===_id||prop in map||(map[prop]=obj[prop])});while(obj=Object.getPrototypeOf(obj));return map}},{key:"hashCode",value:function(){return(0,_index.hashCode)(this.getProperties())}},{key:"log",value:function(msg){return print("log",formatMessage(this,msg)),this}},{key:"warn",value:function(msg){return print("warn",formatMessage(this,msg)),this}},{key:"error",value:function(msg){throw new Error(formatMessage(this,msg))}},{key:"getClassName",value:function(){return this.constructor.name}},{key:"toJSON",value:function(){var props=this.getProperties();return JSON.stringify(Object.keys(props).reduce(function(map,key){return"function"==typeof props[key]?map:(map[key]=props[key],map)},{}))}},{key:"toString",value:function(){return"[object "+this.getClassName()+"]"}},{key:"valueOf",value:function(){return this.hashCode()}}],[{key:"mixin",value:function(){for(var _len=arguments.length,mixins=Array(_len),_key=0;_key<_len;_key++)mixins[_key]=arguments[_key];return _index.mixin.apply(void 0,[this.prototype].concat(mixins))}},{key:"extend",value:function(subclass){return(0,_index.inherit)(subclass,this),subclass}}]),BaseObject}();exports["default"]=BaseObject},{"./index":80}],76:[function(require,module,exports){"use strict";function getClass(obj){var strip=arguments.length<=1||void 0===arguments[1]||arguments[1],type=objectToString.call(obj);return strip?type.slice(8,-1):type}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=getClass;var objectToString={}.toString;module.exports=exports["default"]},{}],77:[function(require,module,exports){"use strict";function isGlobal(obj){return"undefined"!=typeof obj&&obj&&obj.Object===Object}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},global=function(){return"object"===("undefined"==typeof System?"undefined":_typeof(System))&&System.global&&isGlobal(System.global)?System.global:isGlobal(window)?window:isGlobal(global)?global:isGlobal(self)?self:Function("return this")()}();exports["default"]=global,module.exports=exports["default"]},{}],78:[function(require,module,exports){"use strict";function hashCode(obj){var hash=0;switch((0,_index.getClass)(obj)){case"Null":case"Undefined":return 0;case"Array":for(var i=0,len=obj.length;i<len;i++)hash+=hashCode(i+hashCode(obj[i]));return hash;case"Object":for(var prop in obj)hash+=hashCode(prop+hashCode(obj[prop]));return hash;default:for(var str=obj.toString(),_i=0,_len=str.length;_i<_len;_i++)hash=(hash<<5)-hash+str.charCodeAt(_i)&4294967295;return hash}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=hashCode;var _index=require("./index");module.exports=exports["default"]},{"./index":80}],79:[function(require,module,exports){"use strict";function hasOwnProperty(obj,name){return hasOwnProp.call(obj,name)}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=hasOwnProperty;var hasOwnProp={}.hasOwnProperty;module.exports=exports["default"]},{}],80:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _type=require("./type");Object.keys(_type).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _type[key]}})});var _global=require("./global");Object.defineProperty(exports,"global",{enumerable:!0,get:function(){return _interopRequireDefault(_global)["default"]}});var _getclass=require("./getclass");Object.defineProperty(exports,"getClass",{enumerable:!0,get:function(){return _interopRequireDefault(_getclass)["default"]}});var _hasownproperty=require("./hasownproperty");Object.defineProperty(exports,"hasOwnProperty",{enumerable:!0,get:function(){return _interopRequireDefault(_hasownproperty)["default"]}});var _inherit=require("./inherit");Object.defineProperty(exports,"inherit",{enumerable:!0,get:function(){return _interopRequireDefault(_inherit)["default"]}});var _mixin=require("./mixin");Object.defineProperty(exports,"mixin",{enumerable:!0,get:function(){return _interopRequireDefault(_mixin)["default"]}});var _port=require("./port");Object.defineProperty(exports,"port",{enumerable:!0,get:function(){return _interopRequireDefault(_port)["default"]}});var _uid=require("./uid");Object.defineProperty(exports,"uid",{enumerable:!0,get:function(){return _interopRequireDefault(_uid)["default"]}});var _hashcode=require("./hashcode");Object.defineProperty(exports,"hashCode",{enumerable:!0,get:function(){return _interopRequireDefault(_hashcode)["default"]}});var _baseobject=require("./baseobject");Object.defineProperty(exports,"BaseObject",{enumerable:!0,get:function(){return _interopRequireDefault(_baseobject)["default"]}})},{"./baseobject":75,"./getclass":76,"./global":77,"./hashcode":78,"./hasownproperty":79,"./inherit":81,"./mixin":82,"./port":83,"./type":84,"./uid":85}],81:[function(require,module,exports){"use strict";function inherit(subclass,superclass){subclass.prototype=Object.create(superclass.prototype,{constructor:{value:subclass}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=inherit,module.exports=exports["default"]},{}],82:[function(require,module,exports){"use strict";function mixin(target){for(var _len=arguments.length,props=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)props[_key-1]=arguments[_key];if(Object.assign)return Object.assign.apply(Object,[target].concat(props));for(var obj,key,i=0,len=props.length;i<len;i++){obj=props[i];for(key in obj)(0,_index.hasOwnProperty)(obj,key)&&(target[key]=obj[key]);if(Object.getOwnPropertySymbols)for(var symbol,symbols=Object.getOwnPropertySymbols(obj),n=0,nLen=symbols.length;n<nLen;n++)symbol=symbols[n],isEnumerable.call(obj,symbol)&&(target[symbol]=obj[symbol])}return target}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=mixin;var _index=require("./index"),isEnumerable={}.propertyIsEnumerable;module.exports=exports["default"]},{"./index":80}],83:[function(require,module,exports){"use strict";function port(fn){return Function.prototype.bind.call(Function.call,fn)}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=port,module.exports=exports["default"]},{}],84:[function(require,module,exports){"use strict";function isBoolean(obj){return"Boolean"===(0,_index.getClass)(obj)}function isDate(obj){return"Date"===(0,_index.getClass)(obj)}function isError(obj){return"Error"===(0,_index.getClass)(obj)||obj instanceof Error}function isFunction(obj){return"Function"===(0,_index.getClass)(obj)}function isNull(obj){return null===obj}function isNumber(obj){return"Number"===(0,_index.getClass)(obj)}function isObject(obj){return"Object"===(0,_index.getClass)(obj)}function isRegExp(obj){return"RegExp"===(0,_index.getClass)(obj)}function isString(obj){return"String"===(0,_index.getClass)(obj)}function isUndefined(obj){return void 0===obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArray=void 0,exports.isBoolean=isBoolean,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isNull=isNull,exports.isNumber=isNumber,exports.isObject=isObject,exports.isRegExp=isRegExp,exports.isString=isString,exports.isUndefined=isUndefined;var _index=require("./index");exports.isArray=Array.isArray||function(obj){return"Array"===(0,_index.getClass)(obj)}},{"./index":80}],85:[function(require,module,exports){"use strict";function uid(){return Date.now().toString(36)+(counter++).toString(36)}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=uid;var counter=0;module.exports=exports["default"]},{}],86:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _chai=require("chai"),_sinon=require("sinon"),_sinon2=_interopRequireDefault(_sinon),_array=require("../../../src/array");describe("array/array",function(){it("toArray",function(){var args=function(){return arguments}(1,2,3);(0,_chai.expect)((0,_array.toArray)(args)).to.be.an("array"),(0,_chai.expect)((0,_array.toArray)(document.childNodes)).to.be.an("array"),(0,_chai.expect)((0,_array.toArray)(args)).to.deep.equal([1,2,3])}),it("each",function(){var array=[1,2,3,4,5],context={multiplier:0};(0,_array.each)(array,function(num,i,arr){(0,_chai.expect)(num).to.equal(i+1),(0,_chai.expect)(arr).to.equal(array),(0,_chai.expect)(num*this.multiplier).to.equal(0)},context)}),it("eachRight",function(){var array=[1,2,3,4,5],context={multiplier:0},reverse=[];(0,_array.eachRight)(array,function(num,i,arr){(0,_chai.expect)(num).to.equal(i+1),(0,_chai.expect)(arr).to.equal(array),(0,_chai.expect)(num*this.multiplier).to.equal(0),reverse.push(num)},context),(0,_chai.expect)(reverse).to.deep.equal([5,4,3,2,1])}),it("filter",function(){var array=[1,2,3,4,5],newArray=(0,_array.filter)(array,function(num){return num>2});(0,_chai.expect)(newArray).to.be.an("array"),(0,_chai.expect)(newArray).to.not.equal(array),(0,_chai.expect)(newArray).to.deep.equal([3,4,5])}),it("map",function(){var array=[1,2,3,4,5],newArray=(0,_array.map)(array,function(num){return 2*num});(0,_chai.expect)(newArray).to.be.an("array"),(0,_chai.expect)(newArray).to.not.equal(array),(0,_chai.expect)(newArray).to.deep.equal([2,4,6,8,10])}),it("every",function(){var array=[1,2,3,4,5],count=0,returnValue=(0,_array.every)(array,function(num,i){return count++,i<3});(0,_chai.expect)(count).to.equal(4),(0,_chai.expect)(returnValue).to.equal(!1)}),it("some",function(){var array=[1,2,3,4,5],count=0,returnValue=(0,_array.some)(array,function(num,i){return count++,3===i});(0,_chai.expect)(count).to.equal(4),(0,_chai.expect)(returnValue).to.equal(!0)}),it("indexOf",function(){var array=[1,2,3,4,5];(0,_chai.expect)((0,_array.indexOf)(array,3)).to.equal(2),(0,_chai.expect)((0,_array.indexOf)(array,6)).to.equal(-1)}),it("lastIndexOf",function(){var array=[1,2,3,4,5,6,5,4];(0,_chai.expect)((0,_array.lastIndexOf)(array,5)).to.equal(6),(0,_chai.expect)((0,_array.lastIndexOf)(array,5,5)).to.equal(4),(0,_chai.expect)((0,_array.lastIndexOf)(array,7)).to.equal(-1)}),it("reduce",function(){var array=[1,2,3,4,5],accumulator=[],total=(0,_array.reduce)(array,function(prev,curr,i){return prev[i]=curr+1,prev},accumulator);(0,_chai.expect)(total).to.equal(accumulator),(0,_chai.expect)(total).to.deep.equal([2,3,4,5,6])}),it("reduceRight",function(){var array=[1,2,3,4,5],accumulator=[],total=(0,_array.reduceRight)(array,function(prev,curr,i){return prev.push(curr+i),prev},accumulator);(0,_chai.expect)(total).to.equal(accumulator),(0,_chai.expect)(total).to.deep.equal([9,7,5,3,1])}),it("contains",function(){var array=[1,2,3,4,5];(0,_chai.expect)((0,_array.contains)(array,1)).to.be["true"],(0,_chai.expect)((0,_array.contains)(array,6)).to.be["false"]}),it("unique",function(){var array=[1,2,1,3,4,5,5],array2=(0,_array.unique)(array);(0,_chai.expect)(array2).to.deep.equal([1,2,3,4,5])}),it("isEmpty",function(){var array=[1,2,3,4,5];(0,_chai.expect)((0,_array.isEmpty)(array)).to.be["false"],array.length=0,(0,_chai.expect)((0,_array.isEmpty)(array)).to.be["true"]}),it("random",function(){var array=[1,2,3,4,5],spy=_sinon2["default"].spy(Math,"random"),val=(0,_array.random)(array);(0,_chai.expect)(spy.calledOnce).to.be["true"],(0,_chai.expect)(array.indexOf(val)).to.not.equal(-1),spy.restore()}),it("remove",function(){var array=[1,2,1,4,5];(0,_array.remove)(array,1),(0,_chai.expect)(array).to.deep.equal([2,1,4,5])}),it("removeAt",function(){var array=["foo","bar","baz"];(0,_array.removeAt)(array,1),(0,_chai.expect)(array).to.deep.equal(["foo","baz"])}),it("include",function(){var array=[1,2,3,4,5];(0,_array.include)(array,6),(0,_chai.expect)(array).to.deep.equal([1,2,3,4,5,6]),(0,_array.include)(array,1),(0,_chai.expect)(array).to.deep.equal([1,2,3,4,5,6])}),it("insert",function(){var array=[1,2,4,5];(0,_array.insert)(array,3,2),(0,_chai.expect)(array).to.deep.equal([1,2,3,4,5])}),it("copy",function(){var array=[1,2,3,4,5],copied=(0,_array.copy)(array);(0,_chai.expect)(copied).to.not.equal(array),
(0,_chai.expect)(copied).to.deep.equal(array)}),it("find",function(){var array=[1,2,3,4,5],value=(0,_array.find)(array,function(item){return 3===item});(0,_chai.expect)(value).to.equal(3)}),it("findIndex",function(){var array=[1,2,3,4,5],value=(0,_array.findIndex)(array,function(item){return 4===item});(0,_chai.expect)(value).to.equal(3)}),it("clear",function(){var array=[1,2,3,4,5];(0,_array.clear)(array),(0,_chai.expect)(array.length).to.equal(0)})})},{"../../../src/array":74,chai:9,sinon:45}],87:[function(require,module,exports){"use strict";require("./lang/global"),require("./lang/getclass"),require("./lang/hasownproperty"),require("./lang/inherit"),require("./lang/type"),require("./lang/mixin"),require("./lang/port"),require("./lang/uid"),require("./lang/hashcode"),require("./lang/baseobject"),require("./array/array")},{"./array/array":86,"./lang/baseobject":88,"./lang/getclass":89,"./lang/global":90,"./lang/hashcode":91,"./lang/hasownproperty":92,"./lang/inherit":93,"./lang/mixin":94,"./lang/port":95,"./lang/type":96,"./lang/uid":97}],88:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function formatMessage(obj,msg){return obj.getClassName()+"(#"+obj.id()+"): "+msg}var _chai=require("chai"),_sinon=require("sinon"),_sinon2=_interopRequireDefault(_sinon),_lang=require("../../../src/lang"),ExampleObject=function(_BaseObject){function ExampleObject(){return _classCallCheck(this,ExampleObject),_possibleConstructorReturn(this,Object.getPrototypeOf(ExampleObject).apply(this,arguments))}return _inherits(ExampleObject,_BaseObject),ExampleObject}(_lang.BaseObject);describe("lang/BaseObject",function(){it("should have the characteristics of a class",function(){(0,_chai.expect)(_lang.BaseObject).to.be.a("function"),(0,_chai.expect)(_lang.BaseObject).to.have.property("prototype");var base=new _lang.BaseObject,example=new ExampleObject;(0,_chai.expect)(base).to.be["instanceof"](_lang.BaseObject),(0,_chai.expect)(base.constructor).to.equal(_lang.BaseObject),(0,_chai.expect)(_lang.BaseObject.prototype.isPrototypeOf(example)).to.equal(!0),(0,_chai.expect)(example).to.be["instanceof"](_lang.BaseObject)}),it("should support a configuration object as a parameter for the constructor",function(){var example=new ExampleObject({foo:1,bar:2});(0,_chai.expect)(example).to.have.ownPropertyDescriptor("foo",{enumerable:!0,configurable:!0,writable:!0,value:1}),(0,_chai.expect)(example).to.have.ownPropertyDescriptor("bar",{enumerable:!0,configurable:!0,writable:!0,value:2})}),it("should automatically invoke the initialize method on construction",function(){var spy=_sinon2["default"].spy(ExampleObject.prototype,"initialize");new ExampleObject;(0,_chai.expect)(spy.calledOnce).to.equal(!0),spy.restore()}),it("should generate a unique ID for every instance",function(){var example=new ExampleObject;(0,_chai.expect)(example.id()).to.be.ok,(0,_chai.expect)(example.id()).to.be.a("string");for(var objects=[],i=0;i<1e3;i++){var obj=new ExampleObject;(0,_chai.expect)(objects).to.not.include(obj.id()),objects.push(obj.id())}}),it("should support instance destruction by purging properties",function(){var example=new ExampleObject({foo:1});(0,_chai.expect)(example).to.have.property("foo",1);var returnValue=example.destroy();(0,_chai.expect)(example).to.not.have.property("foo"),(0,_chai.expect)(returnValue).to.equal(example,"should support method chaining");var stub=_sinon2["default"].stub(console,"warn");example.destroy(),(0,_chai.expect)(stub.calledOnce).to.equal(!0,"should allow destroy to be called only once"),stub.restore()}),it("should support assigning multiple properties",function(){var example=new ExampleObject,returnValue=example.defineProperties({foo:1,bar:2});(0,_chai.expect)(example).to.have.ownPropertyDescriptor("foo",{enumerable:!0,configurable:!0,writable:!0,value:1}),(0,_chai.expect)(example).to.have.ownPropertyDescriptor("bar",{enumerable:!0,configurable:!0,writable:!0,value:2}),(0,_chai.expect)(returnValue).to.equal(example,"should support method chaining")}),it("should support assigning properties individually",function(){var example=new ExampleObject;example.defineProperty("foo",1);var returnValue=example.defineProperty("bar",2);(0,_chai.expect)(example).to.have.ownPropertyDescriptor("foo",{enumerable:!0,configurable:!0,writable:!0,value:1}),(0,_chai.expect)(example).to.have.ownPropertyDescriptor("bar",{enumerable:!0,configurable:!0,writable:!0,value:2}),(0,_chai.expect)(returnValue).to.equal(example,"should support method chaining")}),it("should support assigning property descriptors",function(){var example=new ExampleObject;example.defineProperty("foo1",1,{enumerable:!1}),example.defineProperty("foo2",1,{configurable:!1}),example.defineProperty("foo3",1,{writable:!1}),(0,_chai.expect)(example).to.have.ownPropertyDescriptor("foo1",{enumerable:!1,configurable:!0,writable:!0,value:1}),(0,_chai.expect)(example).to.have.ownPropertyDescriptor("foo2",{enumerable:!0,configurable:!1,writable:!0,value:1}),(0,_chai.expect)(example).to.have.ownPropertyDescriptor("foo3",{enumerable:!0,configurable:!0,writable:!1,value:1})}),it("should support checking the existence of a property",function(){var example=new ExampleObject;(0,_chai.expect)(example.hasProperty("foo")).to.equal(!1),example.defineProperty("foo",1),(0,_chai.expect)(example.hasProperty("foo")).to.equal(!0)}),it("should support getting the value of an instance property",function(){var example=new ExampleObject;example.defineProperty("foo",1),(0,_chai.expect)(example.getProperty("foo")).to.equal(1),(0,_chai.expect)(example.getProperty("bar")).to.equal(null)}),it("should support setting the value of an instance property",function(){var example=new ExampleObject,returnValue=example.setProperty("foo",1);(0,_chai.expect)(example.getProperty("foo")).to.equal(1),(0,_chai.expect)(returnValue).to.equal(example,"should support method chaining")}),it("should support removing an instance property",function(){var example=new ExampleObject;example.defineProperty("foo",1),(0,_chai.expect)(example.hasProperty("foo")).to.equal(!0);var returnValue=example.removeProperty("foo");(0,_chai.expect)(example.hasProperty("foo")).to.equal(!1),(0,_chai.expect)(returnValue).to.equal(example,"should support method chaining");var stub=_sinon2["default"].stub(console,"warn");example.removeProperty("foo"),(0,_chai.expect)(stub.calledOnce).to.equal(!0,"should not try to remove property if it does not exist"),stub.restore()}),it("should support getting all properties (including the prototype chain) in a hash map",function(){var A=function(_BaseObject2){function A(){return _classCallCheck(this,A),_possibleConstructorReturn(this,Object.getPrototypeOf(A).apply(this,arguments))}return _inherits(A,_BaseObject2),A}(_lang.BaseObject);A.prototype.a=1;var B=function(_A){function B(){return _classCallCheck(this,B),_possibleConstructorReturn(this,Object.getPrototypeOf(B).apply(this,arguments))}return _inherits(B,_A),B}(A);B.prototype.b=2;var b=new B,props=b.getProperties();(0,_chai.expect)(props).to.be.a("object"),(0,_chai.expect)(props).to.have.property("a",1),(0,_chai.expect)(props).to.have.property("b",2)}),it("should support encoding an instance into a hashcode (integer representation)",function(){var example1=new _lang.BaseObject({foo:1,bar:2}),example2=new _lang.BaseObject({foo:1,bar:2}),example3=new _lang.BaseObject({foo:1,bar:3}),code=example2.hashCode();(0,_chai.expect)(example1.hashCode()).to.be.a("number"),(0,_chai.expect)(isFinite(code)&&code%1).to.equal(0),(0,_chai.expect)(example1.hashCode()).to.equal(example2.hashCode()),(0,_chai.expect)(example1.hashCode()).to.not.equal(example3.hashCode())}),it("should support logging to the console",function(){var msg="test",example=new ExampleObject,stub=_sinon2["default"].stub(console,"log"),returnValue=example.log(msg);(0,_chai.expect)(stub.calledOnce).to.equal(!0),(0,_chai.expect)(stub.calledWith(formatMessage(example,msg))).to.equal(!0),(0,_chai.expect)(returnValue).to.equal(example,"should support method chaining"),stub.restore()}),it("should support logging warnings to the console",function(){var msg="test",example=new ExampleObject,stub=_sinon2["default"].stub(console,"warn"),returnValue=example.warn(msg);(0,_chai.expect)(stub.calledOnce).to.equal(!0),(0,_chai.expect)(stub.calledWith(formatMessage(example,msg))).to.equal(!0),(0,_chai.expect)(returnValue).to.equal(example,"should support method chaining"),stub.restore()}),it("should support throwing errors that are identifiable to the originating class and instance",function(){var msg="error",example=new ExampleObject,error=function(){example.error(msg)};(0,_chai.expect)(error).to["throw"](Error,formatMessage(example,msg))}),it("should support getting the name of the class as a string",function(){var example=new ExampleObject;(0,_chai.expect)(example.getClassName()).to.equal("ExampleObject")}),it("should support converting the instance to JSON",function(){var example=new ExampleObject({foo:1,bar:2}),json=example.toJSON();(0,_chai.expect)(json).to.equal('{"foo":1,"bar":2}'),(0,_chai.expect)(JSON.parse(json)).to.deep.equal({foo:1,bar:2}),(0,_chai.expect)(JSON.stringify(example)).to.equal(JSON.stringify(json),"JSON.stringify should use toJSON method")}),it("should support getting the instance type via toString",function(){var example=new ExampleObject;(0,_chai.expect)(example.toString()).to.equal("[object ExampleObject]")}),it("should support primitive coercion",function(){var example=new ExampleObject({foo:1}),code=example.hashCode();(0,_chai.expect)(example.valueOf()).to.equal(code),(0,_chai.expect)(Number(example)).to.equal(code),(0,_chai.expect)(example+0).to.equal(code)}),it("should support adding properties/methods to the class prototype",function(){function foo(){return"foo"}var A=function(_BaseObject3){function A(){return _classCallCheck(this,A),_possibleConstructorReturn(this,Object.getPrototypeOf(A).apply(this,arguments))}return _inherits(A,_BaseObject3),A}(_lang.BaseObject);A.mixin({foo:foo});var B=function(_A2){function B(){return _classCallCheck(this,B),_possibleConstructorReturn(this,Object.getPrototypeOf(B).apply(this,arguments))}return _inherits(B,_A2),B}(A),a=new A,b=new B;(0,_chai.expect)(A.prototype).to.have.property("foo",foo),(0,_chai.expect)(a.foo()).to.equal("foo"),(0,_chai.expect)(B.prototype).to.have.property("foo",foo),(0,_chai.expect)(b.foo()).to.equal("foo")}),it("should support subclassing via `extend` static method",function(){var A=function(_BaseObject4){function A(){return _classCallCheck(this,A),_possibleConstructorReturn(this,Object.getPrototypeOf(A).apply(this,arguments))}return _inherits(A,_BaseObject4),A}(_lang.BaseObject),B=A.extend(function(foo){this.foo=foo});(0,_chai.expect)(B).to.be.a("function");var b=new B(123);(0,_chai.expect)(b).to.be["instanceof"](B),(0,_chai.expect)(b).to.be["instanceof"](A),(0,_chai.expect)(b).to.have.property("foo",123)})})},{"../../../src/lang":80,chai:9,sinon:45}],89:[function(require,module,exports){"use strict";var _chai=require("chai"),_lang=require("../../../src/lang");describe("lang/getClass",function(){it("should return the internal [[Class]] of an object without the cruft by default",function(){(0,_chai.expect)((0,_lang.getClass)("foo")).to.equal("String"),(0,_chai.expect)((0,_lang.getClass)(123)).to.equal("Number"),(0,_chai.expect)((0,_lang.getClass)(!0)).to.equal("Boolean"),(0,_chai.expect)((0,_lang.getClass)([])).to.equal("Array"),(0,_chai.expect)((0,_lang.getClass)({})).to.equal("Object")}),it("should return the internal [[Class]] including the cruft when passed false as an optional second argument",function(){(0,_chai.expect)((0,_lang.getClass)("foo",!1)).to.equal("[object String]"),(0,_chai.expect)((0,_lang.getClass)(123,!1)).to.equal("[object Number]"),(0,_chai.expect)((0,_lang.getClass)(!0,!1)).to.equal("[object Boolean]"),(0,_chai.expect)((0,_lang.getClass)([],!1)).to.equal("[object Array]"),(0,_chai.expect)((0,_lang.getClass)({},!1)).to.equal("[object Object]")})})},{"../../../src/lang":80,chai:9}],90:[function(require,module,exports){"use strict";var _chai=require("chai"),_lang=require("../../../src/lang");describe("lang/global",function(){it("should be the global object",function(){(0,_chai.expect)(_lang.global.Math).to.equal(Math),(0,_chai.expect)(_lang.global.JSON).to.equal(JSON),(0,_chai.expect)(_lang.global.String).to.equal(String),(0,_chai.expect)(_lang.global.Array).to.equal(Array),(0,_chai.expect)(_lang.global.Number).to.equal(Number),(0,_chai.expect)(_lang.global.Boolean).to.equal(Boolean),(0,_chai.expect)(_lang.global.Object).to.equal(Object),(0,_chai.expect)(_lang.global.Function).to.equal(Function),(0,_chai.expect)(_lang.global.Date).to.equal(Date),(0,_chai.expect)(_lang.global.RegExp).to.equal(RegExp)})})},{"../../../src/lang":80,chai:9}],91:[function(require,module,exports){"use strict";function isValidHashCode(hash){return"number"==typeof hash&&(!!isFinite(hash)&&hash%1===0)}var _chai=require("chai"),_lang=require("../../../src/lang");describe("lang/hashCode",function(){it("should return 0 for null and undefined",function(){(0,_chai.expect)((0,_lang.hashCode)(null)).to.equal(0),(0,_chai.expect)((0,_lang.hashCode)(void 0)).to.equal(0)}),it("should support strings",function(){var hash=(0,_lang.hashCode)("foo");(0,_chai.expect)(isValidHashCode(hash)).to.be["true"]}),it("should support numbers",function(){var hash=(0,_lang.hashCode)(123);(0,_chai.expect)(isValidHashCode(hash)).to.be["true"]}),it("should support booleans",function(){var hash=(0,_lang.hashCode)(!0);(0,_chai.expect)(isValidHashCode(hash)).to.be["true"]}),it("should support dates",function(){var hash=(0,_lang.hashCode)(new Date);(0,_chai.expect)(isValidHashCode(hash)).to.be["true"]}),it("should support regular expressions",function(){var hash=(0,_lang.hashCode)(/foo/);(0,_chai.expect)(isValidHashCode(hash)).to.be["true"]}),it("should support functions",function(){var hash=(0,_lang.hashCode)(function(){return 2});(0,_chai.expect)(isValidHashCode(hash)).to.be["true"]}),it("should support errors",function(){var hash=(0,_lang.hashCode)(new Error);(0,_chai.expect)(isValidHashCode(hash)).to.be["true"]}),it("should support arrays",function(){var hash=(0,_lang.hashCode)(["foo",123,!1]);(0,_chai.expect)(isValidHashCode(hash)).to.be["true"]}),it("should support objects",function(){var hash=(0,_lang.hashCode)({foo:"foo",bar:123,baz:/baz/});(0,_chai.expect)(isValidHashCode(hash)).to.be["true"]}),it("should return the same integer representation for two deeply equal objects",function(){var hash1=(0,_lang.hashCode)({foo:123,bar:["foo","bar"],baz:{a:/foo/,b:!0,c:new Date}}),hash2=(0,_lang.hashCode)({foo:123,bar:["foo","bar"],baz:{a:/foo/,b:!0,c:new Date}});(0,_chai.expect)(hash1).to.equal(hash2)})})},{"../../../src/lang":80,chai:9}],92:[function(require,module,exports){"use strict";var _chai=require("chai"),_lang=require("../../../src/lang");describe("lang/hasOwnProperty",function(){it("should return true for direct properties",function(){var obj={foo:1,bar:2};Object.defineProperty(obj,"baz",{enumerable:!1}),(0,_chai.expect)((0,_lang.hasOwnProperty)(obj,"foo")).to.be["true"],(0,_chai.expect)((0,_lang.hasOwnProperty)(obj,"bar")).to.be["true"],(0,_chai.expect)((0,_lang.hasOwnProperty)(obj,"baz")).to.be["true"]}),it("should return false for properties inherited via the prototype chain",function(){(0,_chai.expect)((0,_lang.hasOwnProperty)({},"hasOwnProperty")).to.be["false"]})})},{"../../../src/lang":80,chai:9}],93:[function(require,module,exports){"use strict";var _chai=require("chai"),_lang=require("../../../src/lang");describe("lang/inherit",function(){it("should be able to inherit the properties of one function's prototype to another functions prototype",function(){var A=function(){};A.prototype.foo=function(){return"bar"};var B=function(){};(0,_lang.inherit)(B,A);var b=new B;(0,_chai.expect)("foo"in b).to.be["true"],(0,_chai.expect)(b.foo).to.be.a("function"),(0,_chai.expect)(b.foo()).to.equal("bar")}),it("should set the constructor of the subclass to the constructor function",function(){var A=function(){},B=function(){};(0,_lang.inherit)(B,A);var b=new B;(0,_chai.expect)(b.constructor).to.equal(B)})})},{"../../../src/lang":80,chai:9}],94:[function(require,module,exports){"use strict";var _chai=require("chai"),_lang=require("../../../src/lang");describe("lang/mixin",function(){var assign=void 0,undef=void 0;before(function(){Object.assign&&(assign=Object.assign,Object.assign=undef)}),after(function(){assign&&(Object.assign=assign)}),it("should support merging of a source object onto a target object",function(){(0,_chai.expect)((0,_lang.mixin)({foo:1},{bar:2})).to.deep.equal({foo:1,bar:2})}),it("should support merging of multiple source objects onto a target object (right overwrites left)",function(){(0,_chai.expect)((0,_lang.mixin)({foo:1},{bar:2},{foo:10,baz:3})).to.deep.equal({foo:10,bar:2,baz:3})}),it("should return the target object",function(){var target={},returnValue=(0,_lang.mixin)(target,{foo:1});(0,_chai.expect)(returnValue).to.equal(target)}),it("should only merge own properties",function(){var Foo=function(){};Foo.prototype.foo=1;var foo=new Foo;foo.bar=2,(0,_chai.expect)((0,_lang.mixin)({baz:3},foo)).to.deep.equal({bar:2,baz:3})}),"undefined"!=typeof Symbol&&(it("should support symbol properties",function(){var target={},source={},symbol=Symbol("foo");source[symbol]="bar",(0,_lang.mixin)(target,source),(0,_chai.expect)(target[symbol]).to.equal("bar")}),it("should only copy enumerable symbols",function(){var target={},source={},symbol=Symbol("foo");Object.defineProperty(source,symbol,{enumerable:!1,value:"bar"}),(0,_lang.mixin)(target,source),(0,_chai.expect)(target[symbol]).to.equal(void 0)}))})},{"../../../src/lang":80,chai:9}],95:[function(require,module,exports){"use strict";var _chai=require("chai"),_lang=require("../../../src/lang");describe("lang/port",function(){it("should be able to port an object method to be used standalone",function(){var each=(0,_lang.port)([].forEach),array=[1,2,3,4,5];each(array,function(item,i){array[i]=item*i}),(0,_chai.expect)(array).to.deep.equal([0,2,6,12,20])})})},{"../../../src/lang":80,chai:9}],96:[function(require,module,exports){"use strict";var _chai=require("chai"),_lang=require("../../../src/lang");describe("lang/type",function(){var iframe=void 0,crossFrame=window.crossFrame={},instance=new function(){};before(function(){iframe=document.createElement("iframe"),document.body.appendChild(iframe);var iframeWindow=iframe.contentWindow,iframeDocument=iframe.contentDocument||iframeWindow.document;iframeDocument.write(["<script>","parent.crossFrame.array = [];",'parent.crossFrame.string = new String("");',"parent.crossFrame.number = new Number(123);","parent.crossFrame.function = (function(){});","parent.crossFrame.date = new Date();","parent.crossFrame.regexp = /foo/;","parent.crossFrame.null = null;","parent.crossFrame.boolean = new Boolean(false);","parent.crossFrame.undefined = undefined;","parent.crossFrame.object = {};","parent.crossFrame.error = new Error();","</script>"].join("\n")),iframeDocument.close()}),after(function(){document.body.removeChild(iframe),iframe=null,delete window.crossFrame}),it("isArray",function(){(0,_chai.expect)((0,_lang.isArray)([])).to.be["true"],(0,_chai.expect)((0,_lang.isArray)(crossFrame.array)).to.equal(!0,"support for cross-frame arrays");var args=function(){return arguments}(1,2,3);(0,_chai.expect)((0,_lang.isArray)(args)).to.be["false"],(0,_chai.expect)((0,_lang.isArray)(document.childNodes)).to.be["false"],(0,_chai.expect)((0,_lang.isArray)({})).to.be["false"],(0,_chai.expect)((0,_lang.isArray)(!0)).to.be["false"],(0,_chai.expect)((0,_lang.isArray)("foo")).to.be["false"],(0,_chai.expect)((0,_lang.isArray)(function(){})).to.be["false"],(0,_chai.expect)((0,_lang.isArray)(123)).to.be["false"],(0,_chai.expect)((0,_lang.isArray)(new Date)).to.be["false"],(0,_chai.expect)((0,_lang.isArray)(null)).to.be["false"],(0,_chai.expect)((0,_lang.isArray)(void 0)).to.be["false"],(0,_chai.expect)((0,_lang.isArray)(/foo/)).to.be["false"],(0,_chai.expect)((0,_lang.isArray)(new Error)).to.be["false"],(0,_chai.expect)((0,_lang.isArray)(instance)).to.be["false"]}),it("isString",function(){(0,_chai.expect)((0,_lang.isString)("foo")).to.be["true"],(0,_chai.expect)((0,_lang.isString)(new String("foo"))).to.be["true"],(0,_chai.expect)((0,_lang.isString)(crossFrame.string)).to.equal(!0,"support for cross-frame strings"),(0,_chai.expect)((0,_lang.isString)([])).to.be["false"],(0,_chai.expect)((0,_lang.isString)({})).to.be["false"],(0,_chai.expect)((0,_lang.isString)(!0)).to.be["false"],(0,_chai.expect)((0,_lang.isString)(function(){})).to.be["false"],(0,_chai.expect)((0,_lang.isString)(123)).to.be["false"],(0,_chai.expect)((0,_lang.isString)(new Date)).to.be["false"],(0,_chai.expect)((0,_lang.isString)(null)).to.be["false"],(0,_chai.expect)((0,_lang.isString)(void 0)).to.be["false"],(0,_chai.expect)((0,_lang.isString)(/foo/)).to.be["false"],(0,_chai.expect)((0,_lang.isString)(new Error)).to.be["false"],(0,_chai.expect)((0,_lang.isString)(instance)).to.be["false"]}),it("isNumber",function(){(0,_chai.expect)((0,_lang.isNumber)(123)).to.be["true"],(0,_chai.expect)((0,_lang.isNumber)(69)).to.be["true"],(0,_chai.expect)((0,_lang.isNumber)(31.4)).to.be["true"],(0,_chai.expect)((0,_lang.isNumber)(new Number)).to.be["true"],(0,_chai.expect)((0,_lang.isNumber)(1/0)).to.be["true"],(0,_chai.expect)((0,_lang.isNumber)(Number.POSITIVE_INFINITY)).to.be["true"],(0,_chai.expect)((0,_lang.isNumber)(Number.NEGATIVE_INFINITY)).to.be["true"],(0,_chai.expect)((0,_lang.isNumber)(crossFrame.number)).to.equal(!0,"support for cross-frame numbers"),(0,_chai.expect)((0,_lang.isNumber)({})).to.be["false"],(0,_chai.expect)((0,_lang.isNumber)(!0)).to.be["false"],(0,_chai.expect)((0,_lang.isNumber)("foo")).to.be["false"],(0,_chai.expect)((0,_lang.isNumber)(function(){})).to.be["false"],(0,_chai.expect)((0,_lang.isNumber)(new Date)).to.be["false"],(0,_chai.expect)((0,_lang.isNumber)(null)).to.be["false"],(0,_chai.expect)((0,_lang.isNumber)(void 0)).to.be["false"],(0,_chai.expect)((0,_lang.isNumber)(/foo/)).to.be["false"],(0,_chai.expect)((0,_lang.isNumber)(new Error)).to.be["false"],(0,_chai.expect)((0,_lang.isNumber)(instance)).to.be["false"]}),it("isBoolean",function(){(0,_chai.expect)((0,_lang.isBoolean)(!0)).to.be["true"],(0,_chai.expect)((0,_lang.isBoolean)(!1)).to.be["true"],(0,_chai.expect)((0,_lang.isBoolean)(new Boolean((!1)))).to.be["true"],(0,_chai.expect)((0,_lang.isBoolean)(crossFrame["boolean"])).to.equal(!0,"support for cross-frame booleans"),(0,_chai.expect)((0,_lang.isBoolean)({})).to.be["false"],(0,_chai.expect)((0,_lang.isBoolean)("foo")).to.be["false"],(0,_chai.expect)((0,_lang.isBoolean)(function(){})).to.be["false"],(0,_chai.expect)((0,_lang.isBoolean)(123)).to.be["false"],(0,_chai.expect)((0,_lang.isBoolean)(new Date)).to.be["false"],(0,_chai.expect)((0,_lang.isBoolean)(null)).to.be["false"],(0,_chai.expect)((0,_lang.isBoolean)(void 0)).to.be["false"],(0,_chai.expect)((0,_lang.isBoolean)(/foo/)).to.be["false"],(0,_chai.expect)((0,_lang.isBoolean)(new Error)).to.be["false"],(0,_chai.expect)((0,_lang.isBoolean)(instance)).to.be["false"]}),it("isDate",function(){(0,_chai.expect)((0,_lang.isDate)(new Date)).to.be["true"],(0,_chai.expect)((0,_lang.isDate)(crossFrame.date)).to.equal(!0,"support for cross-frame dates"),(0,_chai.expect)((0,_lang.isDate)([])).to.be["false"],(0,_chai.expect)((0,_lang.isDate)({})).to.be["false"],(0,_chai.expect)((0,_lang.isDate)(!0)).to.be["false"],(0,_chai.expect)((0,_lang.isDate)("foo")).to.be["false"],(0,_chai.expect)((0,_lang.isDate)(function(){})).to.be["false"],(0,_chai.expect)((0,_lang.isDate)(123)).to.be["false"],(0,_chai.expect)((0,_lang.isDate)(null)).to.be["false"],(0,_chai.expect)((0,_lang.isDate)(void 0)).to.be["false"],(0,_chai.expect)((0,_lang.isDate)(/foo/)).to.be["false"],(0,_chai.expect)((0,_lang.isDate)(new Error)).to.be["false"],(0,_chai.expect)((0,_lang.isDate)(instance)).to.be["false"]}),it("isError",function(){(0,_chai.expect)((0,_lang.isError)(new Error)).to.be["true"],(0,_chai.expect)((0,_lang.isError)(crossFrame.error)).to.equal(!0,"support for cross-frame errors"),(0,_chai.expect)((0,_lang.isError)([])).to.be["false"],(0,_chai.expect)((0,_lang.isError)({})).to.be["false"],(0,_chai.expect)((0,_lang.isError)(!0)).to.be["false"],(0,_chai.expect)((0,_lang.isError)("foo")).to.be["false"],(0,_chai.expect)((0,_lang.isError)(function(){})).to.be["false"],(0,_chai.expect)((0,_lang.isError)(123)).to.be["false"],(0,_chai.expect)((0,_lang.isError)(new Date)).to.be["false"],(0,_chai.expect)((0,_lang.isError)(null)).to.be["false"],(0,_chai.expect)((0,_lang.isError)(void 0)).to.be["false"],(0,_chai.expect)((0,_lang.isError)(/foo/)).to.be["false"],(0,_chai.expect)((0,_lang.isError)(instance)).to.be["false"]}),it("isFunction",function(){(0,_chai.expect)((0,_lang.isFunction)(function(){})).to.be["true"],(0,_chai.expect)((0,_lang.isFunction)(function(){})).to.be["true"],(0,_chai.expect)((0,_lang.isFunction)(crossFrame["function"])).to.equal(!0,"support for cross-frame functions"),(0,_chai.expect)((0,_lang.isFunction)([])).to.be["false"],(0,_chai.expect)((0,_lang.isFunction)({})).to.be["false"],(0,_chai.expect)((0,_lang.isFunction)(!0)).to.be["false"],(0,_chai.expect)((0,_lang.isFunction)("foo")).to.be["false"],(0,_chai.expect)((0,_lang.isFunction)(123)).to.be["false"],(0,_chai.expect)((0,_lang.isFunction)(new Date)).to.be["false"],(0,_chai.expect)((0,_lang.isFunction)(null)).to.be["false"],(0,_chai.expect)((0,_lang.isFunction)(void 0)).to.be["false"],(0,_chai.expect)((0,_lang.isFunction)(/foo/)).to.be["false"],(0,_chai.expect)((0,_lang.isFunction)(new Error)).to.be["false"],(0,_chai.expect)((0,_lang.isFunction)(instance)).to.be["false"]}),it("isObject",function(){(0,_chai.expect)((0,_lang.isObject)({})).to.be["true"],(0,_chai.expect)((0,_lang.isObject)(Object.create(null))).to.be["true"],(0,_chai.expect)((0,_lang.isObject)(instance)).to.be["true"],(0,_chai.expect)((0,_lang.isObject)(crossFrame.object)).to.equal(!0,"support for cross-frame objects"),(0,_chai.expect)((0,_lang.isObject)([])).to.be["false"],(0,_chai.expect)((0,_lang.isObject)(!0)).to.be["false"],(0,_chai.expect)((0,_lang.isObject)("foo")).to.be["false"],(0,_chai.expect)((0,_lang.isObject)(function(){})).to.be["false"],(0,_chai.expect)((0,_lang.isObject)(123)).to.be["false"],(0,_chai.expect)((0,_lang.isObject)(new Date)).to.be["false"],(0,_chai.expect)((0,_lang.isObject)(null)).to.be["false"],(0,_chai.expect)((0,_lang.isObject)(void 0)).to.be["false"],(0,_chai.expect)((0,_lang.isObject)(/foo/)).to.be["false"],(0,_chai.expect)((0,_lang.isObject)(new Error)).to.be["false"]}),it("isRegExp",function(){(0,_chai.expect)((0,_lang.isRegExp)(/foo/)).to.be["true"],(0,_chai.expect)((0,_lang.isRegExp)(new RegExp("foo"))).to.be["true"],(0,_chai.expect)((0,_lang.isRegExp)(crossFrame.regexp)).to.equal(!0,"support for cross-frame regular expressions"),(0,_chai.expect)((0,_lang.isRegExp)([])).to.be["false"],(0,_chai.expect)((0,_lang.isRegExp)({})).to.be["false"],(0,_chai.expect)((0,_lang.isRegExp)(!0)).to.be["false"],(0,_chai.expect)((0,_lang.isRegExp)("foo")).to.be["false"],(0,_chai.expect)((0,_lang.isRegExp)(function(){})).to.be["false"],(0,_chai.expect)((0,_lang.isRegExp)(123)).to.be["false"],(0,_chai.expect)((0,_lang.isRegExp)(new Date)).to.be["false"],(0,_chai.expect)((0,_lang.isRegExp)(null)).to.be["false"],(0,_chai.expect)((0,_lang.isRegExp)(void 0)).to.be["false"],(0,_chai.expect)((0,_lang.isRegExp)(new Error)).to.be["false"],(0,_chai.expect)((0,_lang.isRegExp)(instance)).to.be["false"]}),it("isNull",function(){(0,_chai.expect)((0,_lang.isNull)(null)).to.be["true"],(0,_chai.expect)((0,_lang.isNull)(crossFrame["null"])).to.equal(!0,"support for cross-frame null"),(0,_chai.expect)((0,_lang.isNull)([])).to.be["false"],(0,_chai.expect)((0,_lang.isNull)({})).to.be["false"],(0,_chai.expect)((0,_lang.isNull)(!0)).to.be["false"],(0,_chai.expect)((0,_lang.isNull)("foo")).to.be["false"],(0,_chai.expect)((0,_lang.isNull)(function(){})).to.be["false"],(0,_chai.expect)((0,_lang.isNull)(123)).to.be["false"],(0,_chai.expect)((0,_lang.isNull)(new Date)).to.be["false"],(0,_chai.expect)((0,_lang.isNull)(void 0)).to.be["false"],(0,_chai.expect)((0,_lang.isNull)(/foo/)).to.be["false"],(0,_chai.expect)((0,_lang.isNull)(new Error)).to.be["false"],(0,_chai.expect)((0,_lang.isNull)(instance)).to.be["false"]}),it("isUndefined",function(){(0,_chai.expect)((0,_lang.isUndefined)(void 0)).to.be["true"],(0,_chai.expect)((0,_lang.isUndefined)(void 0)).to.be["true"],(0,_chai.expect)((0,_lang.isUndefined)(crossFrame.undefined)).to.equal(!0,"support for cross-frame undefined"),(0,_chai.expect)((0,_lang.isUndefined)([])).to.be["false"],(0,_chai.expect)((0,_lang.isUndefined)({})).to.be["false"],(0,_chai.expect)((0,_lang.isUndefined)(!0)).to.be["false"],(0,_chai.expect)((0,_lang.isUndefined)("foo")).to.be["false"],(0,_chai.expect)((0,_lang.isUndefined)(function(){})).to.be["false"],(0,_chai.expect)((0,_lang.isUndefined)(123)).to.be["false"],(0,_chai.expect)((0,_lang.isUndefined)(new Date)).to.be["false"],(0,_chai.expect)((0,_lang.isUndefined)(null)).to.be["false"],(0,_chai.expect)((0,_lang.isUndefined)(/foo/)).to.be["false"],(0,_chai.expect)((0,_lang.isUndefined)(new Error)).to.be["false"],(0,_chai.expect)((0,_lang.isUndefined)(instance)).to.be["false"]})})},{"../../../src/lang":80,chai:9}],97:[function(require,module,exports){"use strict";var _chai=require("chai"),_lang=require("../../../src/lang");describe("lang/uid",function(){it("should generate a unique ID for every invocation",function(){for(var ids=[],i=0;i<1e3;i++){var id=(0,_lang.uid)();(0,_chai.expect)(ids).to.not.include(id),ids.push(id)}})})},{"../../../src/lang":80,chai:9}]},{},[87]);